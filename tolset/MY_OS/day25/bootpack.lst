     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_fifo32_init
    10 00000000                                 	EXTERN	_init_pit
    11 00000000                                 	EXTERN	_init_keyboard
    12 00000000                                 	EXTERN	_enable_mouse
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_memtest
    15 00000000                                 	EXTERN	_memman_init
    16 00000000                                 	EXTERN	_memman_free
    17 00000000                                 	EXTERN	_init_palette
    18 00000000                                 	EXTERN	_shtctl_init
    19 00000000                                 	EXTERN	_task_init
    20 00000000                                 	EXTERN	_task_run
    21 00000000                                 	EXTERN	_sheet_alloc
    22 00000000                                 	EXTERN	_memman_alloc_4k
    23 00000000                                 	EXTERN	_sheet_setbuf
    24 00000000                                 	EXTERN	_init_screen8
    25 00000000                                 	EXTERN	_make_window8
    26 00000000                                 	EXTERN	_make_textbox8
    27 00000000                                 	EXTERN	_task_alloc
    28 00000000                                 	EXTERN	_console_task
    29 00000000                                 	EXTERN	_init_mouse_cursor8
    30 00000000                                 	EXTERN	_sheet_slide
    31 00000000                                 	EXTERN	_sheet_updown
    32 00000000                                 	EXTERN	_fifo32_put
    33 00000000                                 	EXTERN	_fifo32_status
    34 00000000                                 	EXTERN	_io_cli
    35 00000000                                 	EXTERN	_fifo32_get
    36 00000000                                 	EXTERN	_mouse_decode
    37 00000000                                 	EXTERN	_cons_putstr0
    38 00000000                                 	EXTERN	_asm_end_app
    39 00000000                                 	EXTERN	_sprintf
    40 00000000                                 	EXTERN	_putfonts8_asc_sht
    41 00000000                                 	EXTERN	_keytable0
    42 00000000                                 	EXTERN	_wait_KBC_sendready
    43 00000000                                 	EXTERN	_keytable1
    44 00000000                                 	EXTERN	_task_sleep
    45 00000000                                 	EXTERN	_change_wtitle8
    46 00000000                                 [FILE "bootpack.c"]
    47                                          [SECTION .data]
    48 00000000                                 _keytable0:
    49 00000000 00                              	DB	0
    50 00000001 00                              	DB	0
    51 00000002 31                              	DB	49
    52 00000003 32                              	DB	50
    53 00000004 33                              	DB	51
    54 00000005 34                              	DB	52
    55 00000006 35                              	DB	53
    56 00000007 36                              	DB	54
    57 00000008 37                              	DB	55
    58 00000009 38                              	DB	56
    59 0000000A 39                              	DB	57
    60 0000000B 30                              	DB	48
    61 0000000C 2D                              	DB	45
    62 0000000D 3D                              	DB	61
    63 0000000E 08                              	DB	8
    64 0000000F 00                              	DB	0
    65 00000010 51                              	DB	81
    66 00000011 57                              	DB	87
    67 00000012 45                              	DB	69
    68 00000013 52                              	DB	82
    69 00000014 54                              	DB	84
    70 00000015 59                              	DB	89
    71 00000016 55                              	DB	85
    72 00000017 49                              	DB	73
    73 00000018 4F                              	DB	79
    74 00000019 50                              	DB	80
    75 0000001A 5B                              	DB	91
    76 0000001B 5D                              	DB	93
    77 0000001C 0A                              	DB	10
    78 0000001D 00                              	DB	0
    79 0000001E 41                              	DB	65
    80 0000001F 53                              	DB	83
    81 00000020 44                              	DB	68
    82 00000021 46                              	DB	70
    83 00000022 47                              	DB	71
    84 00000023 48                              	DB	72
    85 00000024 4A                              	DB	74
    86 00000025 4B                              	DB	75
    87 00000026 4C                              	DB	76
    88 00000027 3B                              	DB	59
    89 00000028 27                              	DB	39
    90 00000029 60                              	DB	96
    91 0000002A 00                              	DB	0
    92 0000002B 5C                              	DB	92
    93 0000002C 5A                              	DB	90
    94 0000002D 58                              	DB	88
    95 0000002E 43                              	DB	67
    96 0000002F 56                              	DB	86
    97 00000030 42                              	DB	66
    98 00000031 4E                              	DB	78
    99 00000032 4D                              	DB	77
   100 00000033 2C                              	DB	44
   101 00000034 2E                              	DB	46
   102 00000035 2F                              	DB	47
   103 00000036 00                              	DB	0
   104 00000037 2A                              	DB	42
   105 00000038 00                              	DB	0
   106 00000039 20                              	DB	32
   107 0000003A 00                              	DB	0
   108 0000003B 00                              	DB	0
   109 0000003C 00                              	DB	0
   110 0000003D 00                              	DB	0
   111 0000003E 00                              	DB	0
   112 0000003F 00                              	DB	0
   113 00000040 00                              	DB	0
   114 00000041 00                              	DB	0
   115 00000042 00                              	DB	0
   116 00000043 00                              	DB	0
   117 00000044 00                              	DB	0
   118 00000045 00                              	DB	0
   119 00000046 00                              	DB	0
   120 00000047 37                              	DB	55
   121 00000048 38                              	DB	56
   122 00000049 39                              	DB	57
   123 0000004A 2D                              	DB	45
   124 0000004B 34                              	DB	52
   125 0000004C 35                              	DB	53
   126 0000004D 36                              	DB	54
   127 0000004E 2B                              	DB	43
   128 0000004F 31                              	DB	49
   129 00000050 32                              	DB	50
   130 00000051 33                              	DB	51
   131 00000052 30                              	DB	48
   132 00000053 2E                              	DB	46
   133 00000054 00                              	DB	0
   134 00000055 00                              	DB	0
   135 00000056 00                              	DB	0
   136 00000057 00                              	DB	0
   137 00000058 00                              	DB	0
   138 00000059 00                              	DB	0
   139 0000005A 00                              	DB	0
   140 0000005B 00                              	DB	0
   141 0000005C 00                              	DB	0
   142 0000005D 00                              	DB	0
   143 0000005E 00                              	DB	0
   144 0000005F 00                              	DB	0
   145 00000060 00                              	DB	0
   146 00000061 00                              	DB	0
   147 00000062 00                              	DB	0
   148 00000063 00                              	DB	0
   149 00000064 00                              	DB	0
   150 00000065 00                              	DB	0
   151 00000066 00                              	DB	0
   152 00000067 00                              	DB	0
   153 00000068 00                              	DB	0
   154 00000069 00                              	DB	0
   155 0000006A 00                              	DB	0
   156 0000006B 00                              	DB	0
   157 0000006C 00                              	DB	0
   158 0000006D 00                              	DB	0
   159 0000006E 00                              	DB	0
   160 0000006F 00                              	DB	0
   161 00000070 00                              	DB	0
   162 00000071 00                              	DB	0
   163 00000072 00                              	DB	0
   164 00000073 5C                              	DB	92
   165 00000074 00                              	DB	0
   166 00000075 00                              	DB	0
   167 00000076 00                              	DB	0
   168 00000077 00                              	DB	0
   169 00000078 00                              	DB	0
   170 00000079 00                              	DB	0
   171 0000007A 00                              	DB	0
   172 0000007B 00                              	DB	0
   173 0000007C 00                              	DB	0
   174 0000007D 5C                              	DB	92
   175 0000007E 00                              	DB	0
   176 0000007F 00                              	DB	0
   177 00000080                                 _keytable1:
   178 00000080 00                              	DB	0
   179 00000081 00                              	DB	0
   180 00000082 21                              	DB	33
   181 00000083 40                              	DB	64
   182 00000084 23                              	DB	35
   183 00000085 24                              	DB	36
   184 00000086 25                              	DB	37
   185 00000087 5E                              	DB	94
   186 00000088 26                              	DB	38
   187 00000089 2A                              	DB	42
   188 0000008A 28                              	DB	40
   189 0000008B 29                              	DB	41
   190 0000008C 5F                              	DB	95
   191 0000008D 2B                              	DB	43
   192 0000008E 08                              	DB	8
   193 0000008F 00                              	DB	0
   194 00000090 51                              	DB	81
   195 00000091 57                              	DB	87
   196 00000092 45                              	DB	69
   197 00000093 52                              	DB	82
   198 00000094 54                              	DB	84
   199 00000095 59                              	DB	89
   200 00000096 55                              	DB	85
   201 00000097 49                              	DB	73
   202 00000098 4F                              	DB	79
   203 00000099 50                              	DB	80
   204 0000009A 7B                              	DB	123
   205 0000009B 7D                              	DB	125
   206 0000009C 0A                              	DB	10
   207 0000009D 00                              	DB	0
   208 0000009E 41                              	DB	65
   209 0000009F 53                              	DB	83
   210 000000A0 44                              	DB	68
   211 000000A1 46                              	DB	70
   212 000000A2 47                              	DB	71
   213 000000A3 48                              	DB	72
   214 000000A4 4A                              	DB	74
   215 000000A5 4B                              	DB	75
   216 000000A6 4C                              	DB	76
   217 000000A7 3A                              	DB	58
   218 000000A8 22                              	DB	34
   219 000000A9 7E                              	DB	126
   220 000000AA 00                              	DB	0
   221 000000AB 7C                              	DB	124
   222 000000AC 5A                              	DB	90
   223 000000AD 58                              	DB	88
   224 000000AE 43                              	DB	67
   225 000000AF 56                              	DB	86
   226 000000B0 42                              	DB	66
   227 000000B1 4E                              	DB	78
   228 000000B2 4D                              	DB	77
   229 000000B3 3C                              	DB	60
   230 000000B4 3E                              	DB	62
   231 000000B5 3F                              	DB	63
   232 000000B6 00                              	DB	0
   233 000000B7 2A                              	DB	42
   234 000000B8 00                              	DB	0
   235 000000B9 20                              	DB	32
   236 000000BA 00                              	DB	0
   237 000000BB 00                              	DB	0
   238 000000BC 00                              	DB	0
   239 000000BD 00                              	DB	0
   240 000000BE 00                              	DB	0
   241 000000BF 00                              	DB	0
   242 000000C0 00                              	DB	0
   243 000000C1 00                              	DB	0
   244 000000C2 00                              	DB	0
   245 000000C3 00                              	DB	0
   246 000000C4 00                              	DB	0
   247 000000C5 00                              	DB	0
   248 000000C6 00                              	DB	0
   249 000000C7 37                              	DB	55
   250 000000C8 38                              	DB	56
   251 000000C9 39                              	DB	57
   252 000000CA 2D                              	DB	45
   253 000000CB 34                              	DB	52
   254 000000CC 35                              	DB	53
   255 000000CD 36                              	DB	54
   256 000000CE 2B                              	DB	43
   257 000000CF 31                              	DB	49
   258 000000D0 32                              	DB	50
   259 000000D1 33                              	DB	51
   260 000000D2 30                              	DB	48
   261 000000D3 2E                              	DB	46
   262 000000D4 00                              	DB	0
   263 000000D5 00                              	DB	0
   264 000000D6 00                              	DB	0
   265 000000D7 00                              	DB	0
   266 000000D8 00                              	DB	0
   267 000000D9 00                              	DB	0
   268 000000DA 00                              	DB	0
   269 000000DB 00                              	DB	0
   270 000000DC 00                              	DB	0
   271 000000DD 00                              	DB	0
   272 000000DE 00                              	DB	0
   273 000000DF 00                              	DB	0
   274 000000E0 00                              	DB	0
   275 000000E1 00                              	DB	0
   276 000000E2 00                              	DB	0
   277 000000E3 00                              	DB	0
   278 000000E4 00                              	DB	0
   279 000000E5 00                              	DB	0
   280 000000E6 00                              	DB	0
   281 000000E7 00                              	DB	0
   282 000000E8 00                              	DB	0
   283 000000E9 00                              	DB	0
   284 000000EA 00                              	DB	0
   285 000000EB 00                              	DB	0
   286 000000EC 00                              	DB	0
   287 000000ED 00                              	DB	0
   288 000000EE 00                              	DB	0
   289 000000EF 00                              	DB	0
   290 000000F0 00                              	DB	0
   291 000000F1 00                              	DB	0
   292 000000F2 00                              	DB	0
   293 000000F3 5F                              	DB	95
   294 000000F4 00                              	DB	0
   295 000000F5 00                              	DB	0
   296 000000F6 00                              	DB	0
   297 000000F7 00                              	DB	0
   298 000000F8 00                              	DB	0
   299 000000F9 00                              	DB	0
   300 000000FA 00                              	DB	0
   301 000000FB 00                              	DB	0
   302 000000FC 00                              	DB	0
   303 000000FD 7C                              	DB	124
   304 000000FE 00                              	DB	0
   305 000000FF 00                              	DB	0
   306 00000100                                 LC0:
   307 00000100 63 6F 6E 73 6F 6C 65 00         	DB	"console",0x00
   308 00000108                                 LC3:
   309 00000108 0A 42 72 65 61 6B 28 6D 6F 75   	DB	0x0A,"Break(mouse) . ",0x0A,0x00
       00000112 73 65 29 20 2E 20 0A 00 
   310 0000011A                                 LC1:
   311 0000011A 25 30 32 58 00                  	DB	"%02X",0x00
   312 0000011F                                 LC2:
   313 0000011F 0A 42 72 65 61 6B 28 6B 65 79   	DB	0x0A,"Break(key).",0x0A,0x00
       00000129 29 2E 0A 00 
   314                                          [SECTION .text]
   315 00000000                                 	GLOBAL	_HariMain
   316 00000000                                 _HariMain:
   317 00000000 55                              	PUSH	EBP
   318 00000001 89 E5                           	MOV	EBP,ESP
   319 00000003 57                              	PUSH	EDI
   320 00000004 56                              	PUSH	ESI
   321 00000005 53                              	PUSH	EBX
   322 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   323 00000009 81 EC 00000460                  	SUB	ESP,1120
   324 0000000F C7 85 FFFFFBC4 FFFFFFFF         	MOV	DWORD [-1084+EBP],-1
   325 00000019 C7 85 FFFFFBC0 FFFFFFFF         	MOV	DWORD [-1088+EBP],-1
   326 00000023 C7 85 FFFFFBB4 00000000         	MOV	DWORD [-1100+EBP],0
   327 0000002D C7 85 FFFFFBA4 00000000         	MOV	DWORD [-1116+EBP],0
   328 00000037 A0 00000FF1                     	MOV	AL,BYTE [4081]
   329 0000003C C0 F8 04                        	SAR	AL,4
   330 0000003F 89 C2                           	MOV	EDX,EAX
   331 00000041 83 E2 07                        	AND	EDX,7
   332 00000044 89 95 FFFFFBA0                  	MOV	DWORD [-1120+EBP],EDX
   333 0000004A C7 85 FFFFFB9C FFFFFFFF         	MOV	DWORD [-1124+EBP],-1
   334 00000054 E8 [00000000]                   	CALL	_init_gdtidt
   335 00000059 E8 [00000000]                   	CALL	_init_pic
   336 0000005E E8 [00000000]                   	CALL	_io_sti
   337 00000063 8D 85 FFFFFD74                  	LEA	EAX,DWORD [-652+EBP]
   338 00000069 6A 00                           	PUSH	0
   339 0000006B 50                              	PUSH	EAX
   340 0000006C 68 00000080                     	PUSH	128
   341 00000071 53                              	PUSH	EBX
   342 00000072 E8 [00000000]                   	CALL	_fifo32_init
   343 00000077 E8 [00000000]                   	CALL	_init_pit
   344 0000007C 68 00000100                     	PUSH	256
   345 00000081 53                              	PUSH	EBX
   346 00000082 E8 [00000000]                   	CALL	_init_keyboard
   347 00000087 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   348 0000008A 50                              	PUSH	EAX
   349 0000008B 68 00000200                     	PUSH	512
   350 00000090 53                              	PUSH	EBX
   351 00000091 E8 [00000000]                   	CALL	_enable_mouse
   352 00000096 83 C4 24                        	ADD	ESP,36
   353 00000099 68 000000F8                     	PUSH	248
   354 0000009E 6A 21                           	PUSH	33
   355 000000A0 E8 [00000000]                   	CALL	_io_out8
   356 000000A5 68 000000EF                     	PUSH	239
   357 000000AA 68 000000A1                     	PUSH	161
   358 000000AF E8 [00000000]                   	CALL	_io_out8
   359 000000B4 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
   360 000000BA 6A 00                           	PUSH	0
   361 000000BC 50                              	PUSH	EAX
   362 000000BD 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   363 000000C0 6A 20                           	PUSH	32
   364 000000C2 50                              	PUSH	EAX
   365 000000C3 E8 [00000000]                   	CALL	_fifo32_init
   366 000000C8 83 C4 20                        	ADD	ESP,32
   367 000000CB 68 BFFFFFFF                     	PUSH	-1073741825
   368 000000D0 68 00400000                     	PUSH	4194304
   369 000000D5 E8 [00000000]                   	CALL	_memtest
   370 000000DA 68 003C0000                     	PUSH	3932160
   371 000000DF 89 85 FFFFFBBC                  	MOV	DWORD [-1092+EBP],EAX
   372 000000E5 E8 [00000000]                   	CALL	_memman_init
   373 000000EA 68 0009E000                     	PUSH	647168
   374 000000EF 68 00001000                     	PUSH	4096
   375 000000F4 68 003C0000                     	PUSH	3932160
   376 000000F9 E8 [00000000]                   	CALL	_memman_free
   377 000000FE 8B 85 FFFFFBBC                  	MOV	EAX,DWORD [-1092+EBP]
   378 00000104 2D 00400000                     	SUB	EAX,4194304
   379 00000109 50                              	PUSH	EAX
   380 0000010A 68 00400000                     	PUSH	4194304
   381 0000010F 68 003C0000                     	PUSH	3932160
   382 00000114 E8 [00000000]                   	CALL	_memman_free
   383 00000119 83 C4 24                        	ADD	ESP,36
   384 0000011C E8 [00000000]                   	CALL	_init_palette
   385 00000121 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   386 00000128 50                              	PUSH	EAX
   387 00000129 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   388 00000130 50                              	PUSH	EAX
   389 00000131 FF 35 00000FF8                  	PUSH	DWORD [4088]
   390 00000137 68 003C0000                     	PUSH	3932160
   391 0000013C E8 [00000000]                   	CALL	_shtctl_init
   392 00000141 68 003C0000                     	PUSH	3932160
   393 00000146 89 85 FFFFFBB8                  	MOV	DWORD [-1096+EBP],EAX
   394 0000014C E8 [00000000]                   	CALL	_task_init
   395 00000151 6A 02                           	PUSH	2
   396 00000153 6A 01                           	PUSH	1
   397 00000155 89 85 FFFFFBA8                  	MOV	DWORD [-1112+EBP],EAX
   398 0000015B 50                              	PUSH	EAX
   399 0000015C 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   400 0000015F E8 [00000000]                   	CALL	_task_run
   401 00000164 83 C4 20                        	ADD	ESP,32
   402 00000167 8B 8D FFFFFBB8                  	MOV	ECX,DWORD [-1096+EBP]
   403 0000016D 89 0D 00000FE4                  	MOV	DWORD [4068],ECX
   404 00000173 51                              	PUSH	ECX
   405 00000174 E8 [00000000]                   	CALL	_sheet_alloc
   406 00000179 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   407 00000180 89 85 FFFFFBB0                  	MOV	DWORD [-1104+EBP],EAX
   408 00000186 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   409 0000018D 0F AF C2                        	IMUL	EAX,EDX
   410 00000190 50                              	PUSH	EAX
   411 00000191 68 003C0000                     	PUSH	3932160
   412 00000196 E8 [00000000]                   	CALL	_memman_alloc_4k
   413 0000019B 6A FF                           	PUSH	-1
   414 0000019D 89 C3                           	MOV	EBX,EAX
   415 0000019F 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   416 000001A6 50                              	PUSH	EAX
   417 000001A7 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   418 000001AE 50                              	PUSH	EAX
   419 000001AF 53                              	PUSH	EBX
   420 000001B0 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
   421 000001B6 E8 [00000000]                   	CALL	_sheet_setbuf
   422 000001BB 83 C4 20                        	ADD	ESP,32
   423 000001BE 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   424 000001C5 50                              	PUSH	EAX
   425 000001C6 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   426 000001CD 50                              	PUSH	EAX
   427 000001CE 53                              	PUSH	EBX
   428 000001CF E8 [00000000]                   	CALL	_init_screen8
   429 000001D4 83 C4 0C                        	ADD	ESP,12
   430 000001D7 C7 85 FFFFFBC8 00000001         	MOV	DWORD [-1080+EBP],1
   431 000001E1 31 FF                           	XOR	EDI,EDI
   432 000001E3                                 L6:
   433 000001E3 FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   434 000001E9 8D 9D FFFFFBE4                  	LEA	EBX,DWORD [-1052+EBP]
   435 000001EF E8 [00000000]                   	CALL	_sheet_alloc
   436 000001F4 68 00069000                     	PUSH	430080
   437 000001F9 8D B5 FFFFFBDC                  	LEA	ESI,DWORD [-1060+EBP]
   438 000001FF 68 003C0000                     	PUSH	3932160
   439 00000204 89 84 3D FFFFFBEC               	MOV	DWORD [-1044+EBP+EDI*1],EAX
   440 0000020B E8 [00000000]                   	CALL	_memman_alloc_4k
   441 00000210 89 04 3B                        	MOV	DWORD [EBX+EDI*1],EAX
   442 00000213 6A FF                           	PUSH	-1
   443 00000215 68 00000230                     	PUSH	560
   444 0000021A 68 00000300                     	PUSH	768
   445 0000021F 50                              	PUSH	EAX
   446 00000220 FF B4 3D FFFFFBEC               	PUSH	DWORD [-1044+EBP+EDI*1]
   447 00000227 E8 [00000000]                   	CALL	_sheet_setbuf
   448 0000022C 83 C4 20                        	ADD	ESP,32
   449 0000022F 6A 00                           	PUSH	0
   450 00000231 68 [00000100]                   	PUSH	LC0
   451 00000236 68 00000230                     	PUSH	560
   452 0000023B 68 00000300                     	PUSH	768
   453 00000240 FF 34 3B                        	PUSH	DWORD [EBX+EDI*1]
   454 00000243 E8 [00000000]                   	CALL	_make_window8
   455 00000248 6A 00                           	PUSH	0
   456 0000024A 68 00000208                     	PUSH	520
   457 0000024F 68 000002F0                     	PUSH	752
   458 00000254 6A 1C                           	PUSH	28
   459 00000256 6A 08                           	PUSH	8
   460 00000258 FF B4 3D FFFFFBEC               	PUSH	DWORD [-1044+EBP+EDI*1]
   461 0000025F E8 [00000000]                   	CALL	_make_textbox8
   462 00000264 83 C4 2C                        	ADD	ESP,44
   463 00000267 E8 [00000000]                   	CALL	_task_alloc
   464 0000026C 89 C3                           	MOV	EBX,EAX
   465 0000026E 89 04 3E                        	MOV	DWORD [ESI+EDI*1],EAX
   466 00000271 68 00010000                     	PUSH	65536
   467 00000276 68 003C0000                     	PUSH	3932160
   468 0000027B E8 [00000000]                   	CALL	_memman_alloc_4k
   469 00000280 8B 94 3D FFFFFBEC               	MOV	EDX,DWORD [-1044+EBP+EDI*1]
   470 00000287 05 0000FFF4                     	ADD	EAX,65524
   471 0000028C 89 43 64                        	MOV	DWORD [100+EBX],EAX
   472 0000028F 8B 04 3E                        	MOV	EAX,DWORD [ESI+EDI*1]
   473 00000292 8B 48 64                        	MOV	ECX,DWORD [100+EAX]
   474 00000295 C7 40 4C [00000000]             	MOV	DWORD [76+EAX],_console_task
   475 0000029C C7 40 74 00000008               	MOV	DWORD [116+EAX],8
   476 000002A3 C7 40 78 00000010               	MOV	DWORD [120+EAX],16
   477 000002AA C7 40 7C 00000008               	MOV	DWORD [124+EAX],8
   478 000002B1 C7 80 00000080 00000008         	MOV	DWORD [128+EAX],8
   479 000002BB C7 80 00000084 00000008         	MOV	DWORD [132+EAX],8
   480 000002C5 C7 80 00000088 00000008         	MOV	DWORD [136+EAX],8
   481 000002CF 89 51 04                        	MOV	DWORD [4+ECX],EDX
   482 000002D2 8B 8D FFFFFBBC                  	MOV	ECX,DWORD [-1092+EBP]
   483 000002D8 8B 50 64                        	MOV	EDX,DWORD [100+EAX]
   484 000002DB 89 4A 08                        	MOV	DWORD [8+EDX],ECX
   485 000002DE 6A 02                           	PUSH	2
   486 000002E0 6A 02                           	PUSH	2
   487 000002E2 50                              	PUSH	EAX
   488 000002E3 E8 [00000000]                   	CALL	_task_run
   489 000002E8 8B 14 3E                        	MOV	EDX,DWORD [ESI+EDI*1]
   490 000002EB 8B 84 3D FFFFFBEC               	MOV	EAX,DWORD [-1044+EBP+EDI*1]
   491 000002F2 83 48 1C 20                     	OR	DWORD [28+EAX],32
   492 000002F6 89 50 24                        	MOV	DWORD [36+EAX],EDX
   493 000002F9 68 00000200                     	PUSH	512
   494 000002FE 68 003C0000                     	PUSH	3932160
   495 00000303 E8 [00000000]                   	CALL	_memman_alloc_4k
   496 00000308 8D 95 FFFFFBD4                  	LEA	EDX,DWORD [-1068+EBP]
   497 0000030E 89 04 3A                        	MOV	DWORD [EDX+EDI*1],EAX
   498 00000311 FF 34 3E                        	PUSH	DWORD [ESI+EDI*1]
   499 00000314 50                              	PUSH	EAX
   500 00000315 68 00000080                     	PUSH	128
   501 0000031A 8B 04 3E                        	MOV	EAX,DWORD [ESI+EDI*1]
   502 0000031D 83 C7 04                        	ADD	EDI,4
   503 00000320 83 C0 10                        	ADD	EAX,16
   504 00000323 50                              	PUSH	EAX
   505 00000324 E8 [00000000]                   	CALL	_fifo32_init
   506 00000329 83 C4 2C                        	ADD	ESP,44
   507 0000032C FF 8D FFFFFBC8                  	DEC	DWORD [-1080+EBP]
   508 00000332 0F 89 FFFFFEAB                  	JNS	L6
   509 00000338 FF B5 FFFFFBB8                  	PUSH	DWORD [-1096+EBP]
   510 0000033E C7 85 FFFFFBC8 00000002         	MOV	DWORD [-1080+EBP],2
   511 00000348 8D 9D FFFFFBF4                  	LEA	EBX,DWORD [-1036+EBP]
   512 0000034E E8 [00000000]                   	CALL	_sheet_alloc
   513 00000353 6A 63                           	PUSH	99
   514 00000355 6A 10                           	PUSH	16
   515 00000357 89 85 FFFFFBAC                  	MOV	DWORD [-1108+EBP],EAX
   516 0000035D 6A 10                           	PUSH	16
   517 0000035F 53                              	PUSH	EBX
   518 00000360 50                              	PUSH	EAX
   519 00000361 E8 [00000000]                   	CALL	_sheet_setbuf
   520 00000366 6A 63                           	PUSH	99
   521 00000368 53                              	PUSH	EBX
   522 00000369 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
   523 0000036C E8 [00000000]                   	CALL	_init_mouse_cursor8
   524 00000371 83 C4 20                        	ADD	ESP,32
   525 00000374 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   526 0000037B 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
   527 0000037E 89 D0                           	MOV	EAX,EDX
   528 00000380 99                              	CDQ
   529 00000381 F7 BD FFFFFBC8                  	IDIV	DWORD [-1080+EBP]
   530 00000387 89 85 FFFFFBD0                  	MOV	DWORD [-1072+EBP],EAX
   531 0000038D 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   532 00000394 6A 00                           	PUSH	0
   533 00000396 8D 50 D4                        	LEA	EDX,DWORD [-44+EAX]
   534 00000399 6A 00                           	PUSH	0
   535 0000039B 89 D0                           	MOV	EAX,EDX
   536 0000039D 99                              	CDQ
   537 0000039E F7 BD FFFFFBC8                  	IDIV	DWORD [-1080+EBP]
   538 000003A4 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
   539 000003AA 89 85 FFFFFBCC                  	MOV	DWORD [-1076+EBP],EAX
   540 000003B0 E8 [00000000]                   	CALL	_sheet_slide
   541 000003B5 6A 38                           	PUSH	56
   542 000003B7 68 000000B2                     	PUSH	178
   543 000003BC FF B5 FFFFFBF0                  	PUSH	DWORD [-1040+EBP]
   544 000003C2 E8 [00000000]                   	CALL	_sheet_slide
   545 000003C7 6A 34                           	PUSH	52
   546 000003C9 6A 08                           	PUSH	8
   547 000003CB FF B5 FFFFFBEC                  	PUSH	DWORD [-1044+EBP]
   548 000003D1 E8 [00000000]                   	CALL	_sheet_slide
   549 000003D6 83 C4 24                        	ADD	ESP,36
   550 000003D9 FF B5 FFFFFBCC                  	PUSH	DWORD [-1076+EBP]
   551 000003DF FF B5 FFFFFBD0                  	PUSH	DWORD [-1072+EBP]
   552 000003E5 FF B5 FFFFFBAC                  	PUSH	DWORD [-1108+EBP]
   553 000003EB E8 [00000000]                   	CALL	_sheet_slide
   554 000003F0 6A 00                           	PUSH	0
   555 000003F2 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
   556 000003F8 E8 [00000000]                   	CALL	_sheet_updown
   557 000003FD 6A 01                           	PUSH	1
   558 000003FF FF B5 FFFFFBF0                  	PUSH	DWORD [-1040+EBP]
   559 00000405 E8 [00000000]                   	CALL	_sheet_updown
   560 0000040A 6A 02                           	PUSH	2
   561 0000040C FF B5 FFFFFBEC                  	PUSH	DWORD [-1044+EBP]
   562 00000412 E8 [00000000]                   	CALL	_sheet_updown
   563 00000417 83 C4 24                        	ADD	ESP,36
   564 0000041A 6A 03                           	PUSH	3
   565 0000041C FF B5 FFFFFBAC                  	PUSH	DWORD [-1108+EBP]
   566 00000422 E8 [00000000]                   	CALL	_sheet_updown
   567 00000427 8B BD FFFFFBEC                  	MOV	EDI,DWORD [-1044+EBP]
   568 0000042D 57                              	PUSH	EDI
   569 0000042E E8 0000065B                     	CALL	_keywin_on
   570 00000433 68 000000ED                     	PUSH	237
   571 00000438 53                              	PUSH	EBX
   572 00000439 E8 [00000000]                   	CALL	_fifo32_put
   573 0000043E FF B5 FFFFFBA0                  	PUSH	DWORD [-1120+EBP]
   574 00000444 53                              	PUSH	EBX
   575 00000445 E8 [00000000]                   	CALL	_fifo32_put
   576 0000044A 83 C4 1C                        	ADD	ESP,28
   577 0000044D                                 L7:
   578 0000044D 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
   579 00000450 53                              	PUSH	EBX
   580 00000451 E8 [00000000]                   	CALL	_fifo32_status
   581 00000456 59                              	POP	ECX
   582 00000457 85 C0                           	TEST	EAX,EAX
   583 00000459 7E 0D                           	JLE	L10
   584 0000045B 83 BD FFFFFB9C 00               	CMP	DWORD [-1124+EBP],0
   585 00000462 0F 88 000005D2                  	JS	L67
   586 00000468                                 L10:
   587 00000468 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   588 0000046B E8 [00000000]                   	CALL	_io_cli
   589 00000470 53                              	PUSH	EBX
   590 00000471 E8 [00000000]                   	CALL	_fifo32_status
   591 00000476 5A                              	POP	EDX
   592 00000477 85 C0                           	TEST	EAX,EAX
   593 00000479 0F 84 000005A5                  	JE	L68
   594 0000047F 53                              	PUSH	EBX
   595 00000480 E8 [00000000]                   	CALL	_fifo32_get
   596 00000485 89 85 FFFFFBC8                  	MOV	DWORD [-1080+EBP],EAX
   597 0000048B E8 [00000000]                   	CALL	_io_sti
   598 00000490 58                              	POP	EAX
   599 00000491 83 7F 1C 00                     	CMP	DWORD [28+EDI],0
   600 00000495 75 14                           	JNE	L13
   601 00000497 8B 95 FFFFFBB8                  	MOV	EDX,DWORD [-1096+EBP]
   602 0000049D 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
   603 000004A0 8B 7C 82 10                     	MOV	EDI,DWORD [16+EDX+EAX*4]
   604 000004A4 57                              	PUSH	EDI
   605 000004A5 E8 000005E4                     	CALL	_keywin_on
   606 000004AA 58                              	POP	EAX
   607 000004AB                                 L13:
   608 000004AB 8B 85 FFFFFBC8                  	MOV	EAX,DWORD [-1080+EBP]
   609 000004B1 2D 00000100                     	SUB	EAX,256
   610 000004B6 3D 000000FF                     	CMP	EAX,255
   611 000004BB 0F 86 0000026A                  	JBE	L69
   612 000004C1 8B 85 FFFFFBC8                  	MOV	EAX,DWORD [-1080+EBP]
   613 000004C7 2D 00000200                     	SUB	EAX,512
   614 000004CC 3D 000000FF                     	CMP	EAX,255
   615 000004D1 0F 87 FFFFFF76                  	JA	L7
   616 000004D7 0F B6 85 FFFFFBC8               	MOVZX	EAX,BYTE [-1080+EBP]
   617 000004DE 50                              	PUSH	EAX
   618 000004DF 8D 45 A4                        	LEA	EAX,DWORD [-92+EBP]
   619 000004E2 50                              	PUSH	EAX
   620 000004E3 E8 [00000000]                   	CALL	_mouse_decode
   621 000004E8 59                              	POP	ECX
   622 000004E9 5B                              	POP	EBX
   623 000004EA 85 C0                           	TEST	EAX,EAX
   624 000004EC 0F 84 FFFFFF5B                  	JE	L7
   625 000004F2 8B 45 AC                        	MOV	EAX,DWORD [-84+EBP]
   626 000004F5 8B 55 A8                        	MOV	EDX,DWORD [-88+EBP]
   627 000004F8 01 85 FFFFFBCC                  	ADD	DWORD [-1076+EBP],EAX
   628 000004FE 01 95 FFFFFBD0                  	ADD	DWORD [-1072+EBP],EDX
   629 00000504 0F 88 00000212                  	JS	L70
   630 0000050A                                 L41:
   631 0000050A 83 BD FFFFFBCC 00               	CMP	DWORD [-1076+EBP],0
   632 00000511 0F 88 000001F6                  	JS	L71
   633 00000517                                 L42:
   634 00000517 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   635 0000051E 48                              	DEC	EAX
   636 0000051F 39 85 FFFFFBD0                  	CMP	DWORD [-1072+EBP],EAX
   637 00000525 7E 06                           	JLE	L43
   638 00000527 89 85 FFFFFBD0                  	MOV	DWORD [-1072+EBP],EAX
   639 0000052D                                 L43:
   640 0000052D 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   641 00000534 48                              	DEC	EAX
   642 00000535 39 85 FFFFFBCC                  	CMP	DWORD [-1076+EBP],EAX
   643 0000053B 7E 06                           	JLE	L44
   644 0000053D 89 85 FFFFFBCC                  	MOV	DWORD [-1076+EBP],EAX
   645 00000543                                 L44:
   646 00000543 FF B5 FFFFFBCC                  	PUSH	DWORD [-1076+EBP]
   647 00000549 FF B5 FFFFFBD0                  	PUSH	DWORD [-1072+EBP]
   648 0000054F FF B5 FFFFFBAC                  	PUSH	DWORD [-1108+EBP]
   649 00000555 E8 [00000000]                   	CALL	_sheet_slide
   650 0000055A 83 C4 0C                        	ADD	ESP,12
   651 0000055D F7 45 B0 00000001               	TEST	DWORD [-80+EBP],1
   652 00000564 75 0F                           	JNE	L72
   653 00000566 C7 85 FFFFFBC4 FFFFFFFF         	MOV	DWORD [-1084+EBP],-1
   654 00000570 E9 FFFFFED8                     	JMP	L7
   655 00000575                                 L72:
   656 00000575 83 BD FFFFFBC4 00               	CMP	DWORD [-1084+EBP],0
   657 0000057C 78 4C                           	JS	L73
   658 0000057E 8B 9D FFFFFBCC                  	MOV	EBX,DWORD [-1076+EBP]
   659 00000584 8B 85 FFFFFBB4                  	MOV	EAX,DWORD [-1100+EBP]
   660 0000058A 2B 9D FFFFFBC0                  	SUB	EBX,DWORD [-1088+EBP]
   661 00000590 8B B5 FFFFFBD0                  	MOV	ESI,DWORD [-1072+EBP]
   662 00000596 2B B5 FFFFFBC4                  	SUB	ESI,DWORD [-1084+EBP]
   663 0000059C 03 58 10                        	ADD	EBX,DWORD [16+EAX]
   664 0000059F 53                              	PUSH	EBX
   665 000005A0 03 70 0C                        	ADD	ESI,DWORD [12+EAX]
   666 000005A3 56                              	PUSH	ESI
   667 000005A4 50                              	PUSH	EAX
   668 000005A5 E8 [00000000]                   	CALL	_sheet_slide
   669 000005AA 83 C4 0C                        	ADD	ESP,12
   670 000005AD 8B 95 FFFFFBD0                  	MOV	EDX,DWORD [-1072+EBP]
   671 000005B3 8B 8D FFFFFBCC                  	MOV	ECX,DWORD [-1076+EBP]
   672 000005B9 89 95 FFFFFBC4                  	MOV	DWORD [-1084+EBP],EDX
   673 000005BF 89 8D FFFFFBC0                  	MOV	DWORD [-1088+EBP],ECX
   674 000005C5 E9 FFFFFE83                     	JMP	L7
   675 000005CA                                 L73:
   676 000005CA 8B 8D FFFFFBB8                  	MOV	ECX,DWORD [-1096+EBP]
   677 000005D0 8B 49 10                        	MOV	ECX,DWORD [16+ECX]
   678 000005D3 89 8D FFFFFB98                  	MOV	DWORD [-1128+EBP],ECX
   679 000005D9                                 L66:
   680 000005D9 49                              	DEC	ECX
   681 000005DA 85 C9                           	TEST	ECX,ECX
   682 000005DC 0F 8E FFFFFE6B                  	JLE	L7
   683 000005E2 8B 85 FFFFFBB8                  	MOV	EAX,DWORD [-1096+EBP]
   684 000005E8 8B 9D FFFFFBCC                  	MOV	EBX,DWORD [-1076+EBP]
   685 000005EE 8B B5 FFFFFBD0                  	MOV	ESI,DWORD [-1072+EBP]
   686 000005F4 8B 44 88 14                     	MOV	EAX,DWORD [20+EAX+ECX*4]
   687 000005F8 89 85 FFFFFBB4                  	MOV	DWORD [-1100+EBP],EAX
   688 000005FE 2B 58 10                        	SUB	EBX,DWORD [16+EAX]
   689 00000601 2B 70 0C                        	SUB	ESI,DWORD [12+EAX]
   690 00000604 78 D3                           	JS	L66
   691 00000606 8B 40 04                        	MOV	EAX,DWORD [4+EAX]
   692 00000609 39 C6                           	CMP	ESI,EAX
   693 0000060B 7D CC                           	JGE	L66
   694 0000060D 85 DB                           	TEST	EBX,EBX
   695 0000060F 78 C8                           	JS	L66
   696 00000611 8B 95 FFFFFBB4                  	MOV	EDX,DWORD [-1100+EBP]
   697 00000617 3B 5A 08                        	CMP	EBX,DWORD [8+EDX]
   698 0000061A 7D BD                           	JGE	L66
   699 0000061C 0F AF C3                        	IMUL	EAX,EBX
   700 0000061F 89 85 FFFFFB94                  	MOV	DWORD [-1132+EBP],EAX
   701 00000625 8B 12                           	MOV	EDX,DWORD [EDX]
   702 00000627 8B 85 FFFFFB94                  	MOV	EAX,DWORD [-1132+EBP]
   703 0000062D 01 F0                           	ADD	EAX,ESI
   704 0000062F 0F B6 04 10                     	MOVZX	EAX,BYTE [EAX+EDX*1]
   705 00000633 8B 95 FFFFFBB4                  	MOV	EDX,DWORD [-1100+EBP]
   706 00000639 3B 42 14                        	CMP	EAX,DWORD [20+EDX]
   707 0000063C 74 9B                           	JE	L66
   708 0000063E 8B 85 FFFFFB98                  	MOV	EAX,DWORD [-1128+EBP]
   709 00000644 48                              	DEC	EAX
   710 00000645 50                              	PUSH	EAX
   711 00000646 52                              	PUSH	EDX
   712 00000647 E8 [00000000]                   	CALL	_sheet_updown
   713 0000064C 39 BD FFFFFBB4                  	CMP	DWORD [-1100+EBP],EDI
   714 00000652 58                              	POP	EAX
   715 00000653 5A                              	POP	EDX
   716 00000654 74 14                           	JE	L53
   717 00000656 57                              	PUSH	EDI
   718 00000657 E8 00000404                     	CALL	_keywin_off
   719 0000065C 8B BD FFFFFBB4                  	MOV	EDI,DWORD [-1100+EBP]
   720 00000662 57                              	PUSH	EDI
   721 00000663 E8 00000426                     	CALL	_keywin_on
   722 00000668 59                              	POP	ECX
   723 00000669 58                              	POP	EAX
   724 0000066A                                 L53:
   725 0000066A 83 FE 02                        	CMP	ESI,2
   726 0000066D 7E 32                           	JLE	L54
   727 0000066F 8B 8D FFFFFBB4                  	MOV	ECX,DWORD [-1100+EBP]
   728 00000675 8B 41 04                        	MOV	EAX,DWORD [4+ECX]
   729 00000678 83 E8 03                        	SUB	EAX,3
   730 0000067B 39 C6                           	CMP	ESI,EAX
   731 0000067D 7D 22                           	JGE	L54
   732 0000067F 83 FB 02                        	CMP	EBX,2
   733 00000682 7E 1D                           	JLE	L54
   734 00000684 83 FB 14                        	CMP	EBX,20
   735 00000687 7F 18                           	JG	L54
   736 00000689 8B 85 FFFFFBD0                  	MOV	EAX,DWORD [-1072+EBP]
   737 0000068F 8B 95 FFFFFBCC                  	MOV	EDX,DWORD [-1076+EBP]
   738 00000695 89 85 FFFFFBC4                  	MOV	DWORD [-1084+EBP],EAX
   739 0000069B 89 95 FFFFFBC0                  	MOV	DWORD [-1088+EBP],EDX
   740 000006A1                                 L54:
   741 000006A1 8B 8D FFFFFBB4                  	MOV	ECX,DWORD [-1100+EBP]
   742 000006A7 8B 51 04                        	MOV	EDX,DWORD [4+ECX]
   743 000006AA 8D 42 EB                        	LEA	EAX,DWORD [-21+EDX]
   744 000006AD 39 F0                           	CMP	EAX,ESI
   745 000006AF 0F 8F FFFFFD98                  	JG	L7
   746 000006B5 8D 42 FB                        	LEA	EAX,DWORD [-5+EDX]
   747 000006B8 39 C6                           	CMP	ESI,EAX
   748 000006BA 0F 8D FFFFFD8D                  	JGE	L7
   749 000006C0 83 FB 04                        	CMP	EBX,4
   750 000006C3 0F 8E FFFFFD84                  	JLE	L7
   751 000006C9 83 FB 12                        	CMP	EBX,18
   752 000006CC 0F 8F FFFFFD7B                  	JG	L7
   753 000006D2 F6 41 1C 10                     	TEST	BYTE [28+ECX],16
   754 000006D6 0F 84 FFFFFD71                  	JE	L7
   755 000006DC 8B 59 24                        	MOV	EBX,DWORD [36+ECX]
   756 000006DF 68 [00000108]                   	PUSH	LC3
   757 000006E4 FF B3 00000094                  	PUSH	DWORD [148+EBX]
   758 000006EA E8 [00000000]                   	CALL	_cons_putstr0
   759 000006EF E8 [00000000]                   	CALL	_io_cli
   760 000006F4 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
   761 000006F7 89 43 54                        	MOV	DWORD [84+EBX],EAX
   762 000006FA C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_asm_end_app
   763 00000701 E8 [00000000]                   	CALL	_io_sti
   764 00000706                                 L64:
   765 00000706 58                              	POP	EAX
   766 00000707 5A                              	POP	EDX
   767 00000708 E9 FFFFFD40                     	JMP	L7
   768 0000070D                                 L71:
   769 0000070D C7 85 FFFFFBCC 00000000         	MOV	DWORD [-1076+EBP],0
   770 00000717 E9 FFFFFDFB                     	JMP	L42
   771 0000071C                                 L70:
   772 0000071C C7 85 FFFFFBD0 00000000         	MOV	DWORD [-1072+EBP],0
   773 00000726 E9 FFFFFDDF                     	JMP	L41
   774 0000072B                                 L69:
   775 0000072B 50                              	PUSH	EAX
   776 0000072C 8D 9D FFFFFF74                  	LEA	EBX,DWORD [-140+EBP]
   777 00000732 68 [0000011A]                   	PUSH	LC1
   778 00000737 53                              	PUSH	EBX
   779 00000738 E8 [00000000]                   	CALL	_sprintf
   780 0000073D 6A 02                           	PUSH	2
   781 0000073F 53                              	PUSH	EBX
   782 00000740 6A 0D                           	PUSH	13
   783 00000742 6A 07                           	PUSH	7
   784 00000744 6A 10                           	PUSH	16
   785 00000746 6A 00                           	PUSH	0
   786 00000748 FF B5 FFFFFBB0                  	PUSH	DWORD [-1104+EBP]
   787 0000074E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   788 00000753 83 C4 28                        	ADD	ESP,40
   789 00000756 81 BD FFFFFBC8 0000017F         	CMP	DWORD [-1080+EBP],383
   790 00000760 0F 8F 000002B2                  	JG	L15
   791 00000766 83 BD FFFFFBA4 00               	CMP	DWORD [-1116+EBP],0
   792 0000076D 0F 85 00000294                  	JNE	L16
   793 00000773 8B 8D FFFFFBC8                  	MOV	ECX,DWORD [-1080+EBP]
   794 00000779 8A 81 [FFFFFF00]                	MOV	AL,BYTE [_keytable0-256+ECX]
   795 0000077F                                 L65:
   796 0000077F 88 85 FFFFFF74                  	MOV	BYTE [-140+EBP],AL
   797 00000785                                 L18:
   798 00000785 8A 95 FFFFFF74                  	MOV	DL,BYTE [-140+EBP]
   799 0000078B 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
   800 0000078E 3C 19                           	CMP	AL,25
   801 00000790 77 1D                           	JA	L19
   802 00000792 F7 85 FFFFFBA0 00000004         	TEST	DWORD [-1120+EBP],4
   803 0000079C 0F 85 00000256                  	JNE	L63
   804 000007A2 83 BD FFFFFBA4 00               	CMP	DWORD [-1116+EBP],0
   805 000007A9 0F 84 0000023B                  	JE	L21
   806 000007AF                                 L19:
   807 000007AF 8A 85 FFFFFF74                  	MOV	AL,BYTE [-140+EBP]
   808 000007B5 84 C0                           	TEST	AL,AL
   809 000007B7 74 17                           	JE	L23
   810 000007B9 0F BE C0                        	MOVSX	EAX,AL
   811 000007BC 05 00000100                     	ADD	EAX,256
   812 000007C1 50                              	PUSH	EAX
   813 000007C2 8B 47 24                        	MOV	EAX,DWORD [36+EDI]
   814 000007C5 83 C0 10                        	ADD	EAX,16
   815 000007C8 50                              	PUSH	EAX
   816 000007C9 E8 [00000000]                   	CALL	_fifo32_put
   817 000007CE 5E                              	POP	ESI
   818 000007CF 58                              	POP	EAX
   819 000007D0                                 L23:
   820 000007D0 81 BD FFFFFBC8 0000010F         	CMP	DWORD [-1080+EBP],271
   821 000007DA 0F 84 000001DD                  	JE	L74
   822 000007E0                                 L24:
   823 000007E0 81 BD FFFFFBC8 0000012A         	CMP	DWORD [-1080+EBP],298
   824 000007EA 0F 84 000001C1                  	JE	L75
   825 000007F0                                 L26:
   826 000007F0 81 BD FFFFFBC8 00000136         	CMP	DWORD [-1080+EBP],310
   827 000007FA 0F 84 000001A5                  	JE	L76
   828 00000800                                 L27:
   829 00000800 81 BD FFFFFBC8 000001AA         	CMP	DWORD [-1080+EBP],426
   830 0000080A 0F 84 00000189                  	JE	L77
   831 00000810                                 L28:
   832 00000810 81 BD FFFFFBC8 000001B6         	CMP	DWORD [-1080+EBP],438
   833 0000081A 0F 84 0000016D                  	JE	L78
   834 00000820                                 L29:
   835 00000820 81 BD FFFFFBC8 0000013A         	CMP	DWORD [-1080+EBP],314
   836 0000082A 0F 84 00000134                  	JE	L79
   837 00000830                                 L30:
   838 00000830 81 BD FFFFFBC8 00000145         	CMP	DWORD [-1080+EBP],325
   839 0000083A 0F 84 000000FB                  	JE	L80
   840 00000840                                 L31:
   841 00000840 81 BD FFFFFBC8 00000146         	CMP	DWORD [-1080+EBP],326
   842 0000084A 0F 84 000000C2                  	JE	L81
   843 00000850                                 L32:
   844 00000850 81 BD FFFFFBC8 000001FA         	CMP	DWORD [-1080+EBP],506
   845 0000085A 0F 84 000000A3                  	JE	L82
   846 00000860                                 L33:
   847 00000860 81 BD FFFFFBC8 000001FE         	CMP	DWORD [-1080+EBP],510
   848 0000086A 74 7E                           	JE	L83
   849 0000086C                                 L34:
   850 0000086C 81 BD FFFFFBC8 0000013B         	CMP	DWORD [-1080+EBP],315
   851 00000876 74 31                           	JE	L84
   852 00000878                                 L35:
   853 00000878 81 BD FFFFFBC8 0000015B         	CMP	DWORD [-1080+EBP],347
   854 00000882 0F 85 FFFFFBC5                  	JNE	L7
   855 00000888 8B 8D FFFFFBB8                  	MOV	ECX,DWORD [-1096+EBP]
   856 0000088E 8B 41 10                        	MOV	EAX,DWORD [16+ECX]
   857 00000891 83 F8 02                        	CMP	EAX,2
   858 00000894 0F 8E FFFFFBB3                  	JLE	L7
   859 0000089A 48                              	DEC	EAX
   860 0000089B 50                              	PUSH	EAX
   861 0000089C FF 71 18                        	PUSH	DWORD [24+ECX]
   862 0000089F E8 [00000000]                   	CALL	_sheet_updown
   863 000008A4 E9 FFFFFE5D                     	JMP	L64
   864 000008A9                                 L84:
   865 000008A9 83 BD FFFFFBA4 00               	CMP	DWORD [-1116+EBP],0
   866 000008B0 74 C6                           	JE	L35
   867 000008B2 8B 5F 24                        	MOV	EBX,DWORD [36+EDI]
   868 000008B5 85 DB                           	TEST	EBX,EBX
   869 000008B7 74 BF                           	JE	L35
   870 000008B9 83 7B 34 00                     	CMP	DWORD [52+EBX],0
   871 000008BD 74 B9                           	JE	L35
   872 000008BF 68 [0000011F]                   	PUSH	LC2
   873 000008C4 FF B3 00000094                  	PUSH	DWORD [148+EBX]
   874 000008CA E8 [00000000]                   	CALL	_cons_putstr0
   875 000008CF E8 [00000000]                   	CALL	_io_cli
   876 000008D4 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
   877 000008D7 89 43 54                        	MOV	DWORD [84+EBX],EAX
   878 000008DA C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_asm_end_app
   879 000008E1 E8 [00000000]                   	CALL	_io_sti
   880 000008E6 5E                              	POP	ESI
   881 000008E7 58                              	POP	EAX
   882 000008E8 EB 8E                           	JMP	L35
   883 000008EA                                 L83:
   884 000008EA E8 [00000000]                   	CALL	_wait_KBC_sendready
   885 000008EF FF B5 FFFFFB9C                  	PUSH	DWORD [-1124+EBP]
   886 000008F5 6A 60                           	PUSH	96
   887 000008F7 E8 [00000000]                   	CALL	_io_out8
   888 000008FC 58                              	POP	EAX
   889 000008FD 5A                              	POP	EDX
   890 000008FE E9 FFFFFF69                     	JMP	L34
   891 00000903                                 L82:
   892 00000903 C7 85 FFFFFB9C FFFFFFFF         	MOV	DWORD [-1124+EBP],-1
   893 0000090D E9 FFFFFF4E                     	JMP	L33
   894 00000912                                 L81:
   895 00000912 68 000000ED                     	PUSH	237
   896 00000917 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
   897 0000091A 53                              	PUSH	EBX
   898 0000091B 83 B5 FFFFFBA0 01               	XOR	DWORD [-1120+EBP],1
   899 00000922 E8 [00000000]                   	CALL	_fifo32_put
   900 00000927 FF B5 FFFFFBA0                  	PUSH	DWORD [-1120+EBP]
   901 0000092D 53                              	PUSH	EBX
   902 0000092E E8 [00000000]                   	CALL	_fifo32_put
   903 00000933 83 C4 10                        	ADD	ESP,16
   904 00000936 E9 FFFFFF15                     	JMP	L32
   905 0000093B                                 L80:
   906 0000093B 68 000000ED                     	PUSH	237
   907 00000940 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
   908 00000943 53                              	PUSH	EBX
   909 00000944 83 B5 FFFFFBA0 02               	XOR	DWORD [-1120+EBP],2
   910 0000094B E8 [00000000]                   	CALL	_fifo32_put
   911 00000950 FF B5 FFFFFBA0                  	PUSH	DWORD [-1120+EBP]
   912 00000956 53                              	PUSH	EBX
   913 00000957 E8 [00000000]                   	CALL	_fifo32_put
   914 0000095C 83 C4 10                        	ADD	ESP,16
   915 0000095F E9 FFFFFEDC                     	JMP	L31
   916 00000964                                 L79:
   917 00000964 68 000000ED                     	PUSH	237
   918 00000969 8D 5D B4                        	LEA	EBX,DWORD [-76+EBP]
   919 0000096C 53                              	PUSH	EBX
   920 0000096D 83 B5 FFFFFBA0 04               	XOR	DWORD [-1120+EBP],4
   921 00000974 E8 [00000000]                   	CALL	_fifo32_put
   922 00000979 FF B5 FFFFFBA0                  	PUSH	DWORD [-1120+EBP]
   923 0000097F 53                              	PUSH	EBX
   924 00000980 E8 [00000000]                   	CALL	_fifo32_put
   925 00000985 83 C4 10                        	ADD	ESP,16
   926 00000988 E9 FFFFFEA3                     	JMP	L30
   927 0000098D                                 L78:
   928 0000098D 83 A5 FFFFFBA4 FD               	AND	DWORD [-1116+EBP],-3
   929 00000994 E9 FFFFFE87                     	JMP	L29
   930 00000999                                 L77:
   931 00000999 83 A5 FFFFFBA4 FE               	AND	DWORD [-1116+EBP],-2
   932 000009A0 E9 FFFFFE6B                     	JMP	L28
   933 000009A5                                 L76:
   934 000009A5 83 8D FFFFFBA4 02               	OR	DWORD [-1116+EBP],2
   935 000009AC E9 FFFFFE4F                     	JMP	L27
   936 000009B1                                 L75:
   937 000009B1 83 8D FFFFFBA4 01               	OR	DWORD [-1116+EBP],1
   938 000009B8 E9 FFFFFE33                     	JMP	L26
   939 000009BD                                 L74:
   940 000009BD 57                              	PUSH	EDI
   941 000009BE E8 0000009D                     	CALL	_keywin_off
   942 000009C3 8B 4F 18                        	MOV	ECX,DWORD [24+EDI]
   943 000009C6 49                              	DEC	ECX
   944 000009C7 5B                              	POP	EBX
   945 000009C8 75 0A                           	JNE	L25
   946 000009CA 8B 85 FFFFFBB8                  	MOV	EAX,DWORD [-1096+EBP]
   947 000009D0 8B 48 10                        	MOV	ECX,DWORD [16+EAX]
   948 000009D3 49                              	DEC	ECX
   949 000009D4                                 L25:
   950 000009D4 8B 95 FFFFFBB8                  	MOV	EDX,DWORD [-1096+EBP]
   951 000009DA 8B 7C 8A 14                     	MOV	EDI,DWORD [20+EDX+ECX*4]
   952 000009DE 57                              	PUSH	EDI
   953 000009DF E8 000000AA                     	CALL	_keywin_on
   954 000009E4 59                              	POP	ECX
   955 000009E5 E9 FFFFFDF6                     	JMP	L24
   956 000009EA                                 L21:
   957 000009EA 8D 42 20                        	LEA	EAX,DWORD [32+EDX]
   958 000009ED 88 85 FFFFFF74                  	MOV	BYTE [-140+EBP],AL
   959 000009F3 E9 FFFFFDB7                     	JMP	L19
   960 000009F8                                 L63:
   961 000009F8 83 BD FFFFFBA4 00               	CMP	DWORD [-1116+EBP],0
   962 000009FF 0F 84 FFFFFDAA                  	JE	L19
   963 00000A05 EB E3                           	JMP	L21
   964 00000A07                                 L16:
   965 00000A07 8B 95 FFFFFBC8                  	MOV	EDX,DWORD [-1080+EBP]
   966 00000A0D 8A 82 [FFFFFF80]                	MOV	AL,BYTE [_keytable1-256+EDX]
   967 00000A13 E9 FFFFFD67                     	JMP	L65
   968 00000A18                                 L15:
   969 00000A18 C6 85 FFFFFF74 00               	MOV	BYTE [-140+EBP],0
   970 00000A1F E9 FFFFFD61                     	JMP	L18
   971 00000A24                                 L68:
   972 00000A24 FF B5 FFFFFBA8                  	PUSH	DWORD [-1112+EBP]
   973 00000A2A E8 [00000000]                   	CALL	_task_sleep
   974 00000A2F E8 [00000000]                   	CALL	_io_sti
   975 00000A34 58                              	POP	EAX
   976 00000A35 E9 FFFFFA13                     	JMP	L7
   977 00000A3A                                 L67:
   978 00000A3A 53                              	PUSH	EBX
   979 00000A3B E8 [00000000]                   	CALL	_fifo32_get
   980 00000A40 89 85 FFFFFB9C                  	MOV	DWORD [-1124+EBP],EAX
   981 00000A46 E8 [00000000]                   	CALL	_wait_KBC_sendready
   982 00000A4B FF B5 FFFFFB9C                  	PUSH	DWORD [-1124+EBP]
   983 00000A51 6A 60                           	PUSH	96
   984 00000A53 E8 [00000000]                   	CALL	_io_out8
   985 00000A58 83 C4 0C                        	ADD	ESP,12
   986 00000A5B E9 FFFFFA08                     	JMP	L10
   987 00000A60                                 	GLOBAL	_keywin_off
   988 00000A60                                 _keywin_off:
   989 00000A60 55                              	PUSH	EBP
   990 00000A61 89 E5                           	MOV	EBP,ESP
   991 00000A63 53                              	PUSH	EBX
   992 00000A64 6A 00                           	PUSH	0
   993 00000A66 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   994 00000A69 53                              	PUSH	EBX
   995 00000A6A E8 [00000000]                   	CALL	_change_wtitle8
   996 00000A6F F6 43 1C 20                     	TEST	BYTE [28+EBX],32
   997 00000A73 58                              	POP	EAX
   998 00000A74 5A                              	POP	EDX
   999 00000A75 75 05                           	JNE	L87
  1000 00000A77                                 L85:
  1001 00000A77 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1002 00000A7A C9                              	LEAVE
  1003 00000A7B C3                              	RET
  1004 00000A7C                                 L87:
  1005 00000A7C 6A 03                           	PUSH	3
  1006 00000A7E 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
  1007 00000A81 83 C0 10                        	ADD	EAX,16
  1008 00000A84 50                              	PUSH	EAX
  1009 00000A85 E8 [00000000]                   	CALL	_fifo32_put
  1010 00000A8A 5B                              	POP	EBX
  1011 00000A8B 58                              	POP	EAX
  1012 00000A8C EB E9                           	JMP	L85
  1013 00000A8E                                 	GLOBAL	_keywin_on
  1014 00000A8E                                 _keywin_on:
  1015 00000A8E 55                              	PUSH	EBP
  1016 00000A8F 89 E5                           	MOV	EBP,ESP
  1017 00000A91 53                              	PUSH	EBX
  1018 00000A92 6A 01                           	PUSH	1
  1019 00000A94 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1020 00000A97 53                              	PUSH	EBX
  1021 00000A98 E8 [00000000]                   	CALL	_change_wtitle8
  1022 00000A9D F6 43 1C 20                     	TEST	BYTE [28+EBX],32
  1023 00000AA1 58                              	POP	EAX
  1024 00000AA2 5A                              	POP	EDX
  1025 00000AA3 75 05                           	JNE	L90
  1026 00000AA5                                 L88:
  1027 00000AA5 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1028 00000AA8 C9                              	LEAVE
  1029 00000AA9 C3                              	RET
  1030 00000AAA                                 L90:
  1031 00000AAA 6A 02                           	PUSH	2
  1032 00000AAC 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
  1033 00000AAF 83 C0 10                        	ADD	EAX,16
  1034 00000AB2 50                              	PUSH	EAX
  1035 00000AB3 E8 [00000000]                   	CALL	_fifo32_put
  1036 00000AB8 59                              	POP	ECX
  1037 00000AB9 5B                              	POP	EBX
  1038 00000ABA EB E9                           	JMP	L88
