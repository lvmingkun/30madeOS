     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_readfat
    13 00000000                                 	EXTERN	_io_cli
    14 00000000                                 	EXTERN	_fifo32_status
    15 00000000                                 	EXTERN	_fifo32_get
    16 00000000                                 	EXTERN	_io_sti
    17 00000000                                 	EXTERN	_boxfill8
    18 00000000                                 	EXTERN	_sheet_refresh
    19 00000000                                 	EXTERN	_task_sleep
    20 00000000                                 	EXTERN	_putfonts8_asc_sht
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_sprintf
    23 00000000                                 	EXTERN	_file_search
    24 00000000                                 	EXTERN	_file_loadfile
    25 00000000                                 	EXTERN	_memman_free_4k
    26 00000000                                 	EXTERN	_set_segmdesc
    27 00000000                                 	EXTERN	_start_app
    28 00000000                                 [FILE "console.c"]
    29                                          [SECTION .text]
    30 00000000                                 	GLOBAL	_console_task
    31 00000000                                 _console_task:
    32 00000000 55                              	PUSH	EBP
    33 00000001 89 E5                           	MOV	EBP,ESP
    34 00000003 57                              	PUSH	EDI
    35 00000004 56                              	PUSH	ESI
    36 00000005 53                              	PUSH	EBX
    37 00000006 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
    38 00000009 81 EC 0000023C                  	SUB	ESP,572
    39 0000000F E8 [00000000]                   	CALL	_task_now
    40 00000014 68 00002D00                     	PUSH	11520
    41 00000019 68 003C0000                     	PUSH	3932160
    42 0000001E 89 85 FFFFFDC0                  	MOV	DWORD [-576+EBP],EAX
    43 00000024 E8 [00000000]                   	CALL	_memman_alloc_4k
    44 00000029 8B B5 FFFFFDC0                  	MOV	ESI,DWORD [-576+EBP]
    45 0000002F C7 45 E8 00000008               	MOV	DWORD [-24+EBP],8
    46 00000036 89 85 FFFFFDBC                  	MOV	DWORD [-580+EBP],EAX
    47 0000003C 83 C6 10                        	ADD	ESI,16
    48 0000003F 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    49 00000042 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
    50 00000045 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
    51 0000004B C7 45 EC 0000001C               	MOV	DWORD [-20+EBP],28
    52 00000052 C7 45 F0 FFFFFFFF               	MOV	DWORD [-16+EBP],-1
    53 00000059 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
    54 0000005F FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
    55 00000065 50                              	PUSH	EAX
    56 00000066 68 00000080                     	PUSH	128
    57 0000006B 56                              	PUSH	ESI
    58 0000006C E8 [00000000]                   	CALL	_fifo32_init
    59 00000071 E8 [00000000]                   	CALL	_timer_alloc
    60 00000076 6A 01                           	PUSH	1
    61 00000078 56                              	PUSH	ESI
    62 00000079 89 C7                           	MOV	EDI,EAX
    63 0000007B 50                              	PUSH	EAX
    64 0000007C E8 [00000000]                   	CALL	_timer_init
    65 00000081 83 C4 24                        	ADD	ESP,36
    66 00000084 6A 32                           	PUSH	50
    67 00000086 57                              	PUSH	EDI
    68 00000087 E8 [00000000]                   	CALL	_timer_settime
    69 0000008C 68 00100200                     	PUSH	1049088
    70 00000091 FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
    71 00000097 E8 [00000000]                   	CALL	_file_readfat
    72 0000009C 6A 01                           	PUSH	1
    73 0000009E 6A 3E                           	PUSH	62
    74 000000A0 53                              	PUSH	EBX
    75 000000A1 E8 000001FE                     	CALL	_cons_putchar
    76 000000A6 83 C4 1C                        	ADD	ESP,28
    77 000000A9                                 L2:
    78 000000A9 E8 [00000000]                   	CALL	_io_cli
    79 000000AE 8B 9D FFFFFDC0                  	MOV	EBX,DWORD [-576+EBP]
    80 000000B4 83 C3 10                        	ADD	EBX,16
    81 000000B7 53                              	PUSH	EBX
    82 000000B8 E8 [00000000]                   	CALL	_fifo32_status
    83 000000BD 5E                              	POP	ESI
    84 000000BE 85 C0                           	TEST	EAX,EAX
    85 000000C0 0F 84 000001C8                  	JE	L24
    86 000000C6 53                              	PUSH	EBX
    87 000000C7 E8 [00000000]                   	CALL	_fifo32_get
    88 000000CC 89 C6                           	MOV	ESI,EAX
    89 000000CE E8 [00000000]                   	CALL	_io_sti
    90 000000D3 59                              	POP	ECX
    91 000000D4 83 FE 01                        	CMP	ESI,1
    92 000000D7 0F 8E 0000016A                  	JLE	L25
    93 000000DD                                 L7:
    94 000000DD 83 FE 02                        	CMP	ESI,2
    95 000000E0 0F 84 00000155                  	JE	L26
    96 000000E6                                 L12:
    97 000000E6 83 FE 03                        	CMP	ESI,3
    98 000000E9 0F 84 0000011E                  	JE	L27
    99 000000EF                                 L13:
   100 000000EF 8D 9E FFFFFF00                  	LEA	EBX,DWORD [-256+ESI]
   101 000000F5 89 9D FFFFFDB8                  	MOV	DWORD [-584+EBP],EBX
   102 000000FB 81 FB 000000FF                  	CMP	EBX,255
   103 00000101 77 4E                           	JA	L14
   104 00000103 81 FE 00000108                  	CMP	ESI,264
   105 00000109 0F 84 000000DE                  	JE	L28
   106 0000010F 81 FE 0000010A                  	CMP	ESI,266
   107 00000115 0F 84 00000081                  	JE	L29
   108 0000011B 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   109 0000011E 81 F9 000002EF                  	CMP	ECX,751
   110 00000124 7F 2B                           	JG	L14
   111 00000126 89 C8                           	MOV	EAX,ECX
   112 00000128 BA 00000008                     	MOV	EDX,8
   113 0000012D 89 D3                           	MOV	EBX,EDX
   114 0000012F 6A 01                           	PUSH	1
   115 00000131 99                              	CDQ
   116 00000132 F7 FB                           	IDIV	EBX
   117 00000134 89 C1                           	MOV	ECX,EAX
   118 00000136 89 F0                           	MOV	EAX,ESI
   119 00000138 88 84 0D FFFFFDC2               	MOV	BYTE [-574+EBP+ECX*1],AL
   120 0000013F 8D 45 E4                        	LEA	EAX,DWORD [-28+EBP]
   121 00000142 FF B5 FFFFFDB8                  	PUSH	DWORD [-584+EBP]
   122 00000148 50                              	PUSH	EAX
   123 00000149                                 L22:
   124 00000149 E8 00000156                     	CALL	_cons_putchar
   125 0000014E                                 L23:
   126 0000014E 83 C4 0C                        	ADD	ESP,12
   127 00000151                                 L14:
   128 00000151 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   129 00000155 78 25                           	JS	L21
   130 00000157 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   131 0000015A 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   132 0000015D 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   133 00000160 50                              	PUSH	EAX
   134 00000161 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   135 00000164 50                              	PUSH	EAX
   136 00000165 51                              	PUSH	ECX
   137 00000166 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   138 00000169 52                              	PUSH	EDX
   139 0000016A 0F B6 45 F0                     	MOVZX	EAX,BYTE [-16+EBP]
   140 0000016E 50                              	PUSH	EAX
   141 0000016F FF 71 04                        	PUSH	DWORD [4+ECX]
   142 00000172 FF 31                           	PUSH	DWORD [ECX]
   143 00000174 E8 [00000000]                   	CALL	_boxfill8
   144 00000179 83 C4 1C                        	ADD	ESP,28
   145 0000017C                                 L21:
   146 0000017C 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   147 0000017F 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   148 00000182 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   149 00000185 50                              	PUSH	EAX
   150 00000186 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   151 00000189 50                              	PUSH	EAX
   152 0000018A 51                              	PUSH	ECX
   153 0000018B 52                              	PUSH	EDX
   154 0000018C FF 75 08                        	PUSH	DWORD [8+EBP]
   155 0000018F E8 [00000000]                   	CALL	_sheet_refresh
   156 00000194 83 C4 14                        	ADD	ESP,20
   157 00000197 E9 FFFFFF0D                     	JMP	L2
   158 0000019C                                 L29:
   159 0000019C 6A 00                           	PUSH	0
   160 0000019E 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
   161 000001A1 6A 20                           	PUSH	32
   162 000001A3 53                              	PUSH	EBX
   163 000001A4 E8 000000FB                     	CALL	_cons_putchar
   164 000001A9 53                              	PUSH	EBX
   165 000001AA 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   166 000001AD BA 00000008                     	MOV	EDX,8
   167 000001B2 89 D1                           	MOV	ECX,EDX
   168 000001B4 99                              	CDQ
   169 000001B5 F7 F9                           	IDIV	ECX
   170 000001B7 C6 84 05 FFFFFDC2 00            	MOV	BYTE [-574+EBP+EAX*1],0
   171 000001BF E8 00000183                     	CALL	_cons_newline
   172 000001C4 8D 85 FFFFFDC4                  	LEA	EAX,DWORD [-572+EBP]
   173 000001CA FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   174 000001D0 FF 75 0C                        	PUSH	DWORD [12+EBP]
   175 000001D3 FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   176 000001D9 53                              	PUSH	EBX
   177 000001DA 50                              	PUSH	EAX
   178 000001DB E8 00000222                     	CALL	_cons_runcmd
   179 000001E0 83 C4 24                        	ADD	ESP,36
   180 000001E3 6A 01                           	PUSH	1
   181 000001E5 6A 3E                           	PUSH	62
   182 000001E7 53                              	PUSH	EBX
   183 000001E8 E9 FFFFFF5C                     	JMP	L22
   184 000001ED                                 L28:
   185 000001ED 83 7D E8 10                     	CMP	DWORD [-24+EBP],16
   186 000001F1 0F 8E FFFFFF5A                  	JLE	L14
   187 000001F7 6A 00                           	PUSH	0
   188 000001F9 8D 45 E4                        	LEA	EAX,DWORD [-28+EBP]
   189 000001FC 6A 20                           	PUSH	32
   190 000001FE 50                              	PUSH	EAX
   191 000001FF E8 000000A0                     	CALL	_cons_putchar
   192 00000204 83 6D E8 08                     	SUB	DWORD [-24+EBP],8
   193 00000208 E9 FFFFFF41                     	JMP	L23
   194 0000020D                                 L27:
   195 0000020D 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
   196 00000210 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
   197 00000213 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   198 00000216 50                              	PUSH	EAX
   199 00000217 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   200 0000021A 50                              	PUSH	EAX
   201 0000021B 51                              	PUSH	ECX
   202 0000021C 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   203 0000021F 52                              	PUSH	EDX
   204 00000220 6A 00                           	PUSH	0
   205 00000222 FF 71 04                        	PUSH	DWORD [4+ECX]
   206 00000225 FF 31                           	PUSH	DWORD [ECX]
   207 00000227 E8 [00000000]                   	CALL	_boxfill8
   208 0000022C 83 C4 1C                        	ADD	ESP,28
   209 0000022F C7 45 F0 FFFFFFFF               	MOV	DWORD [-16+EBP],-1
   210 00000236 E9 FFFFFEB4                     	JMP	L13
   211 0000023B                                 L26:
   212 0000023B C7 45 F0 00000007               	MOV	DWORD [-16+EBP],7
   213 00000242 E9 FFFFFE9F                     	JMP	L12
   214 00000247                                 L25:
   215 00000247 85 F6                           	TEST	ESI,ESI
   216 00000249 74 28                           	JE	L8
   217 0000024B 6A 00                           	PUSH	0
   218 0000024D 53                              	PUSH	EBX
   219 0000024E 57                              	PUSH	EDI
   220 0000024F E8 [00000000]                   	CALL	_timer_init
   221 00000254 83 C4 0C                        	ADD	ESP,12
   222 00000257 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   223 0000025B 78 07                           	JS	L10
   224 0000025D C7 45 F0 00000007               	MOV	DWORD [-16+EBP],7
   225 00000264                                 L10:
   226 00000264 6A 32                           	PUSH	50
   227 00000266 57                              	PUSH	EDI
   228 00000267 E8 [00000000]                   	CALL	_timer_settime
   229 0000026C 58                              	POP	EAX
   230 0000026D 5A                              	POP	EDX
   231 0000026E E9 FFFFFE6A                     	JMP	L7
   232 00000273                                 L8:
   233 00000273 6A 01                           	PUSH	1
   234 00000275 53                              	PUSH	EBX
   235 00000276 57                              	PUSH	EDI
   236 00000277 E8 [00000000]                   	CALL	_timer_init
   237 0000027C 83 C4 0C                        	ADD	ESP,12
   238 0000027F 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   239 00000283 78 DF                           	JS	L10
   240 00000285 C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   241 0000028C EB D6                           	JMP	L10
   242 0000028E                                 L24:
   243 0000028E FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   244 00000294 E8 [00000000]                   	CALL	_task_sleep
   245 00000299 E8 [00000000]                   	CALL	_io_sti
   246 0000029E 5B                              	POP	EBX
   247 0000029F E9 FFFFFE05                     	JMP	L2
   248                                          [SECTION .data]
   249 00000000                                 LC0:
   250 00000000 20 00                           	DB	" ",0x00
   251                                          [SECTION .text]
   252 000002A4                                 	GLOBAL	_cons_putchar
   253 000002A4                                 _cons_putchar:
   254 000002A4 55                              	PUSH	EBP
   255 000002A5 89 E5                           	MOV	EBP,ESP
   256 000002A7 53                              	PUSH	EBX
   257 000002A8 50                              	PUSH	EAX
   258 000002A9 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   259 000002AC 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   260 000002AF 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   261 000002B2 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   262 000002B5 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   263 000002B8 3C 09                           	CMP	AL,9
   264 000002BA C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   265 000002BE 74 46                           	JE	L32
   266 000002C0 3C 0A                           	CMP	AL,10
   267 000002C2 74 39                           	JE	L44
   268 000002C4 3C 0D                           	CMP	AL,13
   269 000002C6 74 30                           	JE	L30
   270 000002C8 6A 01                           	PUSH	1
   271 000002CA 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   272 000002CD 50                              	PUSH	EAX
   273 000002CE 6A 00                           	PUSH	0
   274 000002D0 6A 07                           	PUSH	7
   275 000002D2 FF 73 08                        	PUSH	DWORD [8+EBX]
   276 000002D5 FF 73 04                        	PUSH	DWORD [4+EBX]
   277 000002D8 FF 33                           	PUSH	DWORD [EBX]
   278 000002DA E8 [00000000]                   	CALL	_putfonts8_asc_sht
   279 000002DF 83 C4 1C                        	ADD	ESP,28
   280 000002E2 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   281 000002E6 74 10                           	JE	L30
   282 000002E8 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   283 000002EB 83 C0 08                        	ADD	EAX,8
   284 000002EE 89 43 04                        	MOV	DWORD [4+EBX],EAX
   285 000002F1 3D 000002F8                     	CMP	EAX,760
   286 000002F6 74 05                           	JE	L44
   287 000002F8                                 L30:
   288 000002F8 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   289 000002FB C9                              	LEAVE
   290 000002FC C3                              	RET
   291 000002FD                                 L44:
   292 000002FD 53                              	PUSH	EBX
   293 000002FE E8 00000044                     	CALL	_cons_newline
   294 00000303 58                              	POP	EAX
   295 00000304 EB F2                           	JMP	L30
   296 00000306                                 L32:
   297 00000306 6A 01                           	PUSH	1
   298 00000308 68 [00000000]                   	PUSH	LC0
   299 0000030D 6A 00                           	PUSH	0
   300 0000030F 6A 07                           	PUSH	7
   301 00000311 FF 73 08                        	PUSH	DWORD [8+EBX]
   302 00000314 FF 73 04                        	PUSH	DWORD [4+EBX]
   303 00000317 FF 33                           	PUSH	DWORD [EBX]
   304 00000319 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   305 0000031E 83 C4 1C                        	ADD	ESP,28
   306 00000321 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   307 00000324 83 C0 08                        	ADD	EAX,8
   308 00000327 89 43 04                        	MOV	DWORD [4+EBX],EAX
   309 0000032A 3D 000002F8                     	CMP	EAX,760
   310 0000032F 74 0D                           	JE	L45
   311 00000331                                 L35:
   312 00000331 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   313 00000334 83 E8 08                        	SUB	EAX,8
   314 00000337 83 E0 1F                        	AND	EAX,31
   315 0000033A 75 CA                           	JNE	L32
   316 0000033C EB BA                           	JMP	L30
   317 0000033E                                 L45:
   318 0000033E 53                              	PUSH	EBX
   319 0000033F E8 00000003                     	CALL	_cons_newline
   320 00000344 58                              	POP	EAX
   321 00000345 EB EA                           	JMP	L35
   322 00000347                                 	GLOBAL	_cons_newline
   323 00000347                                 _cons_newline:
   324 00000347 55                              	PUSH	EBP
   325 00000348 89 E5                           	MOV	EBP,ESP
   326 0000034A 57                              	PUSH	EDI
   327 0000034B 56                              	PUSH	ESI
   328 0000034C 53                              	PUSH	EBX
   329 0000034D 50                              	PUSH	EAX
   330 0000034E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   331 00000351 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   332 00000354 8B 00                           	MOV	EAX,DWORD [EAX]
   333 00000356 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   334 00000359 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   335 0000035C 3D 0000020B                     	CMP	EAX,523
   336 00000361 7F 18                           	JG	L47
   337 00000363 83 C0 10                        	ADD	EAX,16
   338 00000366 89 42 08                        	MOV	DWORD [8+EDX],EAX
   339 00000369                                 L48:
   340 00000369 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   341 0000036C C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   342 00000373 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   343 00000376 5B                              	POP	EBX
   344 00000377 5E                              	POP	ESI
   345 00000378 5F                              	POP	EDI
   346 00000379 5D                              	POP	EBP
   347 0000037A C3                              	RET
   348 0000037B                                 L47:
   349 0000037B BF 0000001C                     	MOV	EDI,28
   350 00000380                                 L58:
   351 00000380 BE 00000008                     	MOV	ESI,8
   352 00000385                                 L57:
   353 00000385 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   354 00000388 89 FA                           	MOV	EDX,EDI
   355 0000038A 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   356 0000038D 8B 18                           	MOV	EBX,DWORD [EAX]
   357 0000038F 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   358 00000392 0F AF C1                        	IMUL	EAX,ECX
   359 00000395 0F AF D1                        	IMUL	EDX,ECX
   360 00000398 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   361 0000039B 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   362 0000039E 46                              	INC	ESI
   363 0000039F 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   364 000003A2 81 FE 000002F7                  	CMP	ESI,759
   365 000003A8 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   366 000003AB 7E D8                           	JLE	L57
   367 000003AD 47                              	INC	EDI
   368 000003AE 81 FF 0000020B                  	CMP	EDI,523
   369 000003B4 7E CA                           	JLE	L58
   370 000003B6 BF 0000020C                     	MOV	EDI,524
   371 000003BB                                 L68:
   372 000003BB BE 00000008                     	MOV	ESI,8
   373 000003C0                                 L67:
   374 000003C0 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   375 000003C3 89 F8                           	MOV	EAX,EDI
   376 000003C5 89 D1                           	MOV	ECX,EDX
   377 000003C7 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   378 000003CB 8B 12                           	MOV	EDX,DWORD [EDX]
   379 000003CD 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   380 000003D0 46                              	INC	ESI
   381 000003D1 81 FE 000002F7                  	CMP	ESI,759
   382 000003D7 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   383 000003DB 7E E3                           	JLE	L67
   384 000003DD 47                              	INC	EDI
   385 000003DE 81 FF 0000021B                  	CMP	EDI,539
   386 000003E4 7E D5                           	JLE	L68
   387 000003E6 68 0000021C                     	PUSH	540
   388 000003EB 68 000002F8                     	PUSH	760
   389 000003F0 6A 1C                           	PUSH	28
   390 000003F2 6A 08                           	PUSH	8
   391 000003F4 51                              	PUSH	ECX
   392 000003F5 E8 [00000000]                   	CALL	_sheet_refresh
   393 000003FA 83 C4 14                        	ADD	ESP,20
   394 000003FD E9 FFFFFF67                     	JMP	L48
   395                                          [SECTION .data]
   396 00000002                                 LC1:
   397 00000002 6D 65 6D 00                     	DB	"mem",0x00
   398 00000006                                 LC2:
   399 00000006 63 6C 73 00                     	DB	"cls",0x00
   400 0000000A                                 LC3:
   401 0000000A 6C 73 00                        	DB	"ls",0x00
   402 0000000D                                 LC4:
   403 0000000D 74 61 73 6B 00                  	DB	"task",0x00
   404 00000012                                 LC5:
   405 00000012 63 61 74 20 00                  	DB	"cat ",0x00
   406 00000017                                 LC6:
   407 00000017 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000021 64 2E 0A 0A 00 
   408                                          [SECTION .text]
   409 00000402                                 	GLOBAL	_cons_runcmd
   410 00000402                                 _cons_runcmd:
   411 00000402 55                              	PUSH	EBP
   412 00000403 89 E5                           	MOV	EBP,ESP
   413 00000405 57                              	PUSH	EDI
   414 00000406 56                              	PUSH	ESI
   415 00000407 BF [00000002]                   	MOV	EDI,LC1
   416 0000040C 53                              	PUSH	EBX
   417 0000040D 83 EC 10                        	SUB	ESP,16
   418 00000410 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   419 00000413 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   420 00000416 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   421 00000419 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   422 0000041C 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   423 0000041F 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   424 00000422 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   425 00000425 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
   426 00000428 B8 00000004                     	MOV	EAX,4
   427 0000042D 8B 75 E4                        	MOV	ESI,DWORD [-28+EBP]
   428 00000430 FC                              	CLD
   429 00000431 89 C1                           	MOV	ECX,EAX
   430 00000433 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   431 00000436 F3                              	REPE
   432 00000437 A6                              	CMPSB
   433 00000438 0F 84 000000DA                  	JE	L90
   434 0000043E B8 00000004                     	MOV	EAX,4
   435 00000443 8B 75 E4                        	MOV	ESI,DWORD [-28+EBP]
   436 00000446 FC                              	CLD
   437 00000447 BF [00000006]                   	MOV	EDI,LC2
   438 0000044C 89 C1                           	MOV	ECX,EAX
   439 0000044E F3                              	REPE
   440 0000044F A6                              	CMPSB
   441 00000450 0F 84 000000B6                  	JE	L91
   442 00000456 B8 00000003                     	MOV	EAX,3
   443 0000045B 8B 75 E4                        	MOV	ESI,DWORD [-28+EBP]
   444 0000045E FC                              	CLD
   445 0000045F BF [0000000A]                   	MOV	EDI,LC3
   446 00000464 89 C1                           	MOV	ECX,EAX
   447 00000466 F3                              	REPE
   448 00000467 A6                              	CMPSB
   449 00000468 0F 84 0000008F                  	JE	L92
   450 0000046E B8 00000005                     	MOV	EAX,5
   451 00000473 8B 75 E4                        	MOV	ESI,DWORD [-28+EBP]
   452 00000476 FC                              	CLD
   453 00000477 BF [0000000D]                   	MOV	EDI,LC4
   454 0000047C 89 C1                           	MOV	ECX,EAX
   455 0000047E F3                              	REPE
   456 0000047F A6                              	CMPSB
   457 00000480 74 66                           	JE	L93
   458 00000482 B8 00000004                     	MOV	EAX,4
   459 00000487 8B 75 E4                        	MOV	ESI,DWORD [-28+EBP]
   460 0000048A FC                              	CLD
   461 0000048B BF [00000012]                   	MOV	EDI,LC5
   462 00000490 89 C1                           	MOV	ECX,EAX
   463 00000492 F3                              	REPE
   464 00000493 A6                              	CMPSB
   465 00000494 74 37                           	JE	L94
   466 00000496 8B 45 E4                        	MOV	EAX,DWORD [-28+EBP]
   467 00000499 80 38 00                        	CMP	BYTE [EAX],0
   468 0000049C 75 08                           	JNE	L95
   469 0000049E                                 L77:
   470 0000049E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   471 000004A1 5B                              	POP	EBX
   472 000004A2 5E                              	POP	ESI
   473 000004A3 5F                              	POP	EDI
   474 000004A4 5D                              	POP	EBP
   475 000004A5 C3                              	RET
   476 000004A6                                 L95:
   477 000004A6 50                              	PUSH	EAX
   478 000004A7 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   479 000004AA 53                              	PUSH	EBX
   480 000004AB E8 00000233                     	CALL	_cmd_app
   481 000004B0 83 C4 0C                        	ADD	ESP,12
   482 000004B3 85 C0                           	TEST	EAX,EAX
   483 000004B5 75 E7                           	JNE	L77
   484 000004B7 C7 45 0C [00000017]             	MOV	DWORD [12+EBP],LC6
   485 000004BE 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   486 000004C1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   487 000004C4 5B                              	POP	EBX
   488 000004C5 5E                              	POP	ESI
   489 000004C6 5F                              	POP	EDI
   490 000004C7 5D                              	POP	EBP
   491 000004C8 E9 000003EA                     	JMP	_cons_putstr0
   492 000004CD                                 L94:
   493 000004CD 8B 45 E4                        	MOV	EAX,DWORD [-28+EBP]
   494 000004D0 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   495 000004D3 89 45 10                        	MOV	DWORD [16+EBP],EAX
   496 000004D6 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   497 000004D9 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   498 000004DC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   499 000004DF 5B                              	POP	EBX
   500 000004E0 5E                              	POP	ESI
   501 000004E1 5F                              	POP	EDI
   502 000004E2 5D                              	POP	EBP
   503 000004E3 E9 0000016B                     	JMP	_cmd_cat
   504 000004E8                                 L93:
   505 000004E8 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   506 000004EB 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   507 000004EE 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   508 000004F1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   509 000004F4 5B                              	POP	EBX
   510 000004F5 5E                              	POP	ESI
   511 000004F6 5F                              	POP	EDI
   512 000004F7 5D                              	POP	EBP
   513 000004F8 E9 00000378                     	JMP	_cmd_task
   514 000004FD                                 L92:
   515 000004FD 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   516 00000500 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   517 00000503 5B                              	POP	EBX
   518 00000504 5E                              	POP	ESI
   519 00000505 5F                              	POP	EDI
   520 00000506 5D                              	POP	EBP
   521 00000507 E9 000000B1                     	JMP	_cmd_ls
   522 0000050C                                 L91:
   523 0000050C 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   524 0000050F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   525 00000512 5B                              	POP	EBX
   526 00000513 5E                              	POP	ESI
   527 00000514 5F                              	POP	EDI
   528 00000515 5D                              	POP	EBP
   529 00000516 EB 4C                           	JMP	_cmd_cls
   530 00000518                                 L90:
   531 00000518 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   532 0000051B 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   533 0000051E 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   534 00000521 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   535 00000524 5B                              	POP	EBX
   536 00000525 5E                              	POP	ESI
   537 00000526 5F                              	POP	EDI
   538 00000527 5D                              	POP	EBP
   539 00000528 EB 00                           	JMP	_cmd_mem
   540                                          [SECTION .data]
   541 00000026                                 LC7:
   542 00000026 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       00000030 4D 42 0A 66 72 65 65 20 25 64 
       0000003A 4B 42 0A 0A 00 
   543                                          [SECTION .text]
   544 0000052A                                 	GLOBAL	_cmd_mem
   545 0000052A                                 _cmd_mem:
   546 0000052A 55                              	PUSH	EBP
   547 0000052B 89 E5                           	MOV	EBP,ESP
   548 0000052D 53                              	PUSH	EBX
   549 0000052E 83 EC 40                        	SUB	ESP,64
   550 00000531 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   551 00000534 C1 EB 14                        	SHR	EBX,20
   552 00000537 68 003C0000                     	PUSH	3932160
   553 0000053C E8 [00000000]                   	CALL	_memman_total
   554 00000541 C1 E8 0A                        	SHR	EAX,10
   555 00000544 89 04 24                        	MOV	DWORD [ESP],EAX
   556 00000547 53                              	PUSH	EBX
   557 00000548 68 [00000026]                   	PUSH	LC7
   558 0000054D 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   559 00000550 53                              	PUSH	EBX
   560 00000551 E8 [00000000]                   	CALL	_sprintf
   561 00000556 53                              	PUSH	EBX
   562 00000557 FF 75 08                        	PUSH	DWORD [8+EBP]
   563 0000055A E8 00000358                     	CALL	_cons_putstr0
   564 0000055F 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   565 00000562 C9                              	LEAVE
   566 00000563 C3                              	RET
   567 00000564                                 	GLOBAL	_cmd_cls
   568 00000564                                 _cmd_cls:
   569 00000564 55                              	PUSH	EBP
   570 00000565 89 E5                           	MOV	EBP,ESP
   571 00000567 57                              	PUSH	EDI
   572 00000568 56                              	PUSH	ESI
   573 00000569 BE 0000001C                     	MOV	ESI,28
   574 0000056E 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   575 00000571 53                              	PUSH	EBX
   576 00000572 8B 1F                           	MOV	EBX,DWORD [EDI]
   577 00000574                                 L107:
   578 00000574 B9 00000008                     	MOV	ECX,8
   579 00000579                                 L106:
   580 00000579 89 F0                           	MOV	EAX,ESI
   581 0000057B 8B 13                           	MOV	EDX,DWORD [EBX]
   582 0000057D 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   583 00000581 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   584 00000584 41                              	INC	ECX
   585 00000585 81 F9 000002F7                  	CMP	ECX,759
   586 0000058B C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   587 0000058F 7E E8                           	JLE	L106
   588 00000591 46                              	INC	ESI
   589 00000592 81 FE 00000223                  	CMP	ESI,547
   590 00000598 7E DA                           	JLE	L107
   591 0000059A 68 00000224                     	PUSH	548
   592 0000059F 68 000002F8                     	PUSH	760
   593 000005A4 6A 1C                           	PUSH	28
   594 000005A6 6A 08                           	PUSH	8
   595 000005A8 53                              	PUSH	EBX
   596 000005A9 E8 [00000000]                   	CALL	_sheet_refresh
   597 000005AE C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   598 000005B5 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   599 000005B8 5B                              	POP	EBX
   600 000005B9 5E                              	POP	ESI
   601 000005BA 5F                              	POP	EDI
   602 000005BB 5D                              	POP	EBP
   603 000005BC C3                              	RET
   604                                          [SECTION .data]
   605 0000003F                                 LC8:
   606 0000003F 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d KB",0x0A,0x00
       00000049 78 74 20 20 20 25 37 64 20 4B 
       00000053 42 0A 00 
   607                                          [SECTION .text]
   608 000005BD                                 	GLOBAL	_cmd_ls
   609 000005BD                                 _cmd_ls:
   610 000005BD 55                              	PUSH	EBP
   611 000005BE 89 E5                           	MOV	EBP,ESP
   612 000005C0 57                              	PUSH	EDI
   613 000005C1 56                              	PUSH	ESI
   614 000005C2 31 F6                           	XOR	ESI,ESI
   615 000005C4 53                              	PUSH	EBX
   616 000005C5 31 DB                           	XOR	EBX,EBX
   617 000005C7 83 EC 20                        	SUB	ESP,32
   618 000005CA 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   619 000005CD                                 L125:
   620 000005CD 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   621 000005D3 84 C0                           	TEST	AL,AL
   622 000005D5 74 19                           	JE	L114
   623 000005D7 3C E5                           	CMP	AL,-27
   624 000005D9 74 09                           	JE	L115
   625 000005DB F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   626 000005E2 74 1A                           	JE	L129
   627 000005E4                                 L115:
   628 000005E4 46                              	INC	ESI
   629 000005E5 83 C3 20                        	ADD	EBX,32
   630 000005E8 81 FE 000000F3                  	CMP	ESI,243
   631 000005EE 7E DD                           	JLE	L125
   632 000005F0                                 L114:
   633 000005F0 57                              	PUSH	EDI
   634 000005F1 E8 FFFFFD51                     	CALL	_cons_newline
   635 000005F6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   636 000005F9 5B                              	POP	EBX
   637 000005FA 5E                              	POP	ESI
   638 000005FB 5F                              	POP	EDI
   639 000005FC 5D                              	POP	EBP
   640 000005FD C3                              	RET
   641 000005FE                                 L129:
   642 000005FE FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   643 00000604 68 [0000003F]                   	PUSH	LC8
   644 00000609 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   645 0000060C 50                              	PUSH	EAX
   646 0000060D E8 [00000000]                   	CALL	_sprintf
   647 00000612 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   648 00000618 31 C9                           	XOR	ECX,ECX
   649 0000061A 83 C4 0C                        	ADD	ESP,12
   650 0000061D                                 L124:
   651 0000061D 8A 02                           	MOV	AL,BYTE [EDX]
   652 0000061F 42                              	INC	EDX
   653 00000620 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   654 00000624 41                              	INC	ECX
   655 00000625 83 F9 07                        	CMP	ECX,7
   656 00000628 7E F3                           	JLE	L124
   657 0000062A 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   658 00000630 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   659 00000633 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   660 00000639 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   661 0000063C 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   662 00000642 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   663 00000645 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   664 00000648 50                              	PUSH	EAX
   665 00000649 57                              	PUSH	EDI
   666 0000064A E8 00000268                     	CALL	_cons_putstr0
   667 0000064F 58                              	POP	EAX
   668 00000650 5A                              	POP	EDX
   669 00000651 EB 91                           	JMP	L115
   670                                          [SECTION .data]
   671 00000056                                 LC9:
   672 00000056 46 69 6C 65 20 63 61 6E 27 74   	DB	"File can't be found.",0x0A,0x00
       00000060 20 62 65 20 66 6F 75 6E 64 2E 
       0000006A 0A 00 
   673                                          [SECTION .text]
   674 00000653                                 	GLOBAL	_cmd_cat
   675 00000653                                 _cmd_cat:
   676 00000653 55                              	PUSH	EBP
   677 00000654 89 E5                           	MOV	EBP,ESP
   678 00000656 57                              	PUSH	EDI
   679 00000657 56                              	PUSH	ESI
   680 00000658 53                              	PUSH	EBX
   681 00000659 56                              	PUSH	ESI
   682 0000065A 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   683 0000065D 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   684 00000660 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   685 00000663 68 000000E0                     	PUSH	224
   686 00000668 68 00102600                     	PUSH	1058304
   687 0000066D 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   688 00000670 83 C0 04                        	ADD	EAX,4
   689 00000673 50                              	PUSH	EAX
   690 00000674 E8 [00000000]                   	CALL	_file_search
   691 00000679 83 C4 0C                        	ADD	ESP,12
   692 0000067C 89 C6                           	MOV	ESI,EAX
   693 0000067E 85 C0                           	TEST	EAX,EAX
   694 00000680 74 52                           	JE	L131
   695 00000682 FF 70 1C                        	PUSH	DWORD [28+EAX]
   696 00000685 68 003C0000                     	PUSH	3932160
   697 0000068A E8 [00000000]                   	CALL	_memman_alloc_4k
   698 0000068F 68 00103E00                     	PUSH	1064448
   699 00000694 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   700 00000697 50                              	PUSH	EAX
   701 00000698 89 C3                           	MOV	EBX,EAX
   702 0000069A FF 76 1C                        	PUSH	DWORD [28+ESI]
   703 0000069D 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   704 000006A1 50                              	PUSH	EAX
   705 000006A2 E8 [00000000]                   	CALL	_file_loadfile
   706 000006A7 FF 76 1C                        	PUSH	DWORD [28+ESI]
   707 000006AA 53                              	PUSH	EBX
   708 000006AB 57                              	PUSH	EDI
   709 000006AC E8 00000234                     	CALL	_cons_putstr1
   710 000006B1 83 C4 28                        	ADD	ESP,40
   711 000006B4 FF 76 1C                        	PUSH	DWORD [28+ESI]
   712 000006B7 53                              	PUSH	EBX
   713 000006B8 68 003C0000                     	PUSH	3932160
   714 000006BD E8 [00000000]                   	CALL	_memman_free_4k
   715 000006C2 83 C4 0C                        	ADD	ESP,12
   716 000006C5                                 L132:
   717 000006C5 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   718 000006C8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   719 000006CB 5B                              	POP	EBX
   720 000006CC 5E                              	POP	ESI
   721 000006CD 5F                              	POP	EDI
   722 000006CE 5D                              	POP	EBP
   723 000006CF E9 FFFFFC73                     	JMP	_cons_newline
   724 000006D4                                 L131:
   725 000006D4 68 [00000056]                   	PUSH	LC9
   726 000006D9 57                              	PUSH	EDI
   727 000006DA E8 000001D8                     	CALL	_cons_putstr0
   728 000006DF 59                              	POP	ECX
   729 000006E0 5B                              	POP	EBX
   730 000006E1 EB E2                           	JMP	L132
   731                                          [SECTION .data]
   732 0000006C                                 LC10:
   733 0000006C 48 61 72 69 00                  	DB	"Hari",0x00
   734                                          [SECTION .text]
   735 000006E3                                 	GLOBAL	_cmd_app
   736 000006E3                                 _cmd_app:
   737 000006E3 55                              	PUSH	EBP
   738 000006E4 89 E5                           	MOV	EBP,ESP
   739 000006E6 57                              	PUSH	EDI
   740 000006E7 56                              	PUSH	ESI
   741 000006E8 53                              	PUSH	EBX
   742 000006E9 31 DB                           	XOR	EBX,EBX
   743 000006EB 83 EC 2C                        	SUB	ESP,44
   744 000006EE 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   745 000006F1 E8 [00000000]                   	CALL	_task_now
   746 000006F6 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
   747 000006F9                                 L139:
   748 000006F9 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
   749 000006FC 3C 20                           	CMP	AL,32
   750 000006FE 7E 0A                           	JLE	L135
   751 00000700 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   752 00000704 43                              	INC	EBX
   753 00000705 83 FB 0C                        	CMP	EBX,12
   754 00000708 7E EF                           	JLE	L139
   755 0000070A                                 L135:
   756 0000070A 68 000000E0                     	PUSH	224
   757 0000070F 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   758 00000712 68 00102600                     	PUSH	1058304
   759 00000717 56                              	PUSH	ESI
   760 00000718 C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   761 0000071D E8 [00000000]                   	CALL	_file_search
   762 00000722 83 C4 0C                        	ADD	ESP,12
   763 00000725 85 C0                           	TEST	EAX,EAX
   764 00000727 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
   765 0000072A 0F 84 00000101                  	JE	L145
   766 00000730                                 L144:
   767 00000730 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   768 00000733 FF 70 1C                        	PUSH	DWORD [28+EAX]
   769 00000736 68 003C0000                     	PUSH	3932160
   770 0000073B E8 [00000000]                   	CALL	_memman_alloc_4k
   771 00000740 68 00010000                     	PUSH	65536
   772 00000745 68 003C0000                     	PUSH	3932160
   773 0000074A 89 C3                           	MOV	EBX,EAX
   774 0000074C E8 [00000000]                   	CALL	_memman_alloc_4k
   775 00000751 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
   776 00000754 89 1D 00000FE8                  	MOV	DWORD [4072],EBX
   777 0000075A 68 00103E00                     	PUSH	1064448
   778 0000075F FF 75 0C                        	PUSH	DWORD [12+EBP]
   779 00000762 53                              	PUSH	EBX
   780 00000763 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   781 00000766 FF 72 1C                        	PUSH	DWORD [28+EDX]
   782 00000769 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
   783 0000076D 50                              	PUSH	EAX
   784 0000076E E8 [00000000]                   	CALL	_file_loadfile
   785 00000773 8B 7D C8                        	MOV	EDI,DWORD [-56+EBP]
   786 00000776 83 C4 24                        	ADD	ESP,36
   787 00000779 68 000040FA                     	PUSH	16634
   788 0000077E 53                              	PUSH	EBX
   789 0000077F 8B 47 1C                        	MOV	EAX,DWORD [28+EDI]
   790 00000782 48                              	DEC	EAX
   791 00000783 50                              	PUSH	EAX
   792 00000784 68 00271F58                     	PUSH	2563928
   793 00000789 E8 [00000000]                   	CALL	_set_segmdesc
   794 0000078E 68 000040F2                     	PUSH	16626
   795 00000793 FF 75 D0                        	PUSH	DWORD [-48+EBP]
   796 00000796 68 0000FFFF                     	PUSH	65535
   797 0000079B 68 00271F60                     	PUSH	2563936
   798 000007A0 E8 [00000000]                   	CALL	_set_segmdesc
   799 000007A5 83 C4 20                        	ADD	ESP,32
   800 000007A8 83 7F 1C 07                     	CMP	DWORD [28+EDI],7
   801 000007AC 76 2B                           	JBE	L142
   802 000007AE B8 [0000006C]                   	MOV	EAX,LC10
   803 000007B3 8D 73 04                        	LEA	ESI,DWORD [4+EBX]
   804 000007B6 FC                              	CLD
   805 000007B7 B9 00000004                     	MOV	ECX,4
   806 000007BC 89 C7                           	MOV	EDI,EAX
   807 000007BE F3                              	REPE
   808 000007BF A6                              	CMPSB
   809 000007C0 75 17                           	JNE	L142
   810 000007C2 C6 03 E8                        	MOV	BYTE [EBX],-24
   811 000007C5 C6 43 01 16                     	MOV	BYTE [1+EBX],22
   812 000007C9 C6 43 02 00                     	MOV	BYTE [2+EBX],0
   813 000007CD C6 43 03 00                     	MOV	BYTE [3+EBX],0
   814 000007D1 C6 43 04 00                     	MOV	BYTE [4+EBX],0
   815 000007D5 C6 43 05 CB                     	MOV	BYTE [5+EBX],-53
   816 000007D9                                 L142:
   817 000007D9 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
   818 000007DC 83 C0 30                        	ADD	EAX,48
   819 000007DF 50                              	PUSH	EAX
   820 000007E0 68 00001F60                     	PUSH	8032
   821 000007E5 68 00010000                     	PUSH	65536
   822 000007EA 68 00001F58                     	PUSH	8024
   823 000007EF 6A 00                           	PUSH	0
   824 000007F1 E8 [00000000]                   	CALL	_start_app
   825 000007F6 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   826 000007F9 FF 70 1C                        	PUSH	DWORD [28+EAX]
   827 000007FC 53                              	PUSH	EBX
   828 000007FD 68 003C0000                     	PUSH	3932160
   829 00000802 E8 [00000000]                   	CALL	_memman_free_4k
   830 00000807 83 C4 20                        	ADD	ESP,32
   831 0000080A 68 00010000                     	PUSH	65536
   832 0000080F FF 75 D0                        	PUSH	DWORD [-48+EBP]
   833 00000812 68 003C0000                     	PUSH	3932160
   834 00000817 E8 [00000000]                   	CALL	_memman_free_4k
   835 0000081C FF 75 08                        	PUSH	DWORD [8+EBP]
   836 0000081F E8 FFFFFB23                     	CALL	_cons_newline
   837 00000824 B8 00000001                     	MOV	EAX,1
   838 00000829                                 L133:
   839 00000829 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   840 0000082C 5B                              	POP	EBX
   841 0000082D 5E                              	POP	ESI
   842 0000082E 5F                              	POP	EDI
   843 0000082F 5D                              	POP	EBP
   844 00000830 C3                              	RET
   845 00000831                                 L145:
   846 00000831 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
   847 00000836 74 2F                           	JE	L140
   848 00000838 68 000000E0                     	PUSH	224
   849 0000083D 68 00102600                     	PUSH	1058304
   850 00000842 56                              	PUSH	ESI
   851 00000843 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
   852 00000848 C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
   853 0000084D C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
   854 00000852 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
   855 00000857 C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
   856 0000085C E8 [00000000]                   	CALL	_file_search
   857 00000861 83 C4 0C                        	ADD	ESP,12
   858 00000864 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
   859 00000867                                 L140:
   860 00000867 83 7D C8 00                     	CMP	DWORD [-56+EBP],0
   861 0000086B 0F 85 FFFFFEBF                  	JNE	L144
   862 00000871 31 C0                           	XOR	EAX,EAX
   863 00000873 EB B4                           	JMP	L133
   864                                          [SECTION .data]
   865 00000071                                 LC11:
   866 00000071 6C 65 76 65 6C 3A 25 64 00      	DB	"level:%d",0x00
   867                                          [SECTION .text]
   868 00000875                                 	GLOBAL	_cmd_task
   869 00000875                                 _cmd_task:
   870 00000875 55                              	PUSH	EBP
   871 00000876 89 E5                           	MOV	EBP,ESP
   872 00000878 56                              	PUSH	ESI
   873 00000879 53                              	PUSH	EBX
   874 0000087A 83 EC 20                        	SUB	ESP,32
   875 0000087D 8D 75 D8                        	LEA	ESI,DWORD [-40+EBP]
   876 00000880 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   877 00000883 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   878 00000886 FF 70 08                        	PUSH	DWORD [8+EAX]
   879 00000889 68 [00000071]                   	PUSH	LC11
   880 0000088E 56                              	PUSH	ESI
   881 0000088F E8 [00000000]                   	CALL	_sprintf
   882 00000894 6A 07                           	PUSH	7
   883 00000896 56                              	PUSH	ESI
   884 00000897 6A 00                           	PUSH	0
   885 00000899 6A 07                           	PUSH	7
   886 0000089B FF 73 08                        	PUSH	DWORD [8+EBX]
   887 0000089E 6A 08                           	PUSH	8
   888 000008A0 FF 33                           	PUSH	DWORD [EBX]
   889 000008A2 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   890 000008A7 83 C4 28                        	ADD	ESP,40
   891 000008AA 53                              	PUSH	EBX
   892 000008AB E8 FFFFFA97                     	CALL	_cons_newline
   893 000008B0 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   894 000008B3 5B                              	POP	EBX
   895 000008B4 5E                              	POP	ESI
   896 000008B5 5D                              	POP	EBP
   897 000008B6 C3                              	RET
   898 000008B7                                 	GLOBAL	_cons_putstr0
   899 000008B7                                 _cons_putstr0:
   900 000008B7 55                              	PUSH	EBP
   901 000008B8 89 E5                           	MOV	EBP,ESP
   902 000008BA 56                              	PUSH	ESI
   903 000008BB 53                              	PUSH	EBX
   904 000008BC 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   905 000008BF 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   906 000008C2 80 3B 00                        	CMP	BYTE [EBX],0
   907 000008C5 75 07                           	JNE	L152
   908 000008C7                                 L154:
   909 000008C7 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   910 000008CA 5B                              	POP	EBX
   911 000008CB 5E                              	POP	ESI
   912 000008CC 5D                              	POP	EBP
   913 000008CD C3                              	RET
   914 000008CE                                 L152:
   915 000008CE 6A 01                           	PUSH	1
   916 000008D0 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   917 000008D3 50                              	PUSH	EAX
   918 000008D4 43                              	INC	EBX
   919 000008D5 56                              	PUSH	ESI
   920 000008D6 E8 FFFFF9C9                     	CALL	_cons_putchar
   921 000008DB 83 C4 0C                        	ADD	ESP,12
   922 000008DE 80 3B 00                        	CMP	BYTE [EBX],0
   923 000008E1 75 EB                           	JNE	L152
   924 000008E3 EB E2                           	JMP	L154
   925 000008E5                                 	GLOBAL	_cons_putstr1
   926 000008E5                                 _cons_putstr1:
   927 000008E5 55                              	PUSH	EBP
   928 000008E6 89 E5                           	MOV	EBP,ESP
   929 000008E8 57                              	PUSH	EDI
   930 000008E9 56                              	PUSH	ESI
   931 000008EA 53                              	PUSH	EBX
   932 000008EB 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   933 000008EE 31 DB                           	XOR	EBX,EBX
   934 000008F0 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   935 000008F3 39 F3                           	CMP	EBX,ESI
   936 000008F5 7C 08                           	JL	L160
   937 000008F7                                 L162:
   938 000008F7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   939 000008FA 5B                              	POP	EBX
   940 000008FB 5E                              	POP	ESI
   941 000008FC 5F                              	POP	EDI
   942 000008FD 5D                              	POP	EBP
   943 000008FE C3                              	RET
   944 000008FF                                 L160:
   945 000008FF 6A 01                           	PUSH	1
   946 00000901 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   947 00000905 50                              	PUSH	EAX
   948 00000906 43                              	INC	EBX
   949 00000907 FF 75 08                        	PUSH	DWORD [8+EBP]
   950 0000090A E8 FFFFF995                     	CALL	_cons_putchar
   951 0000090F 83 C4 0C                        	ADD	ESP,12
   952 00000912 39 F3                           	CMP	EBX,ESI
   953 00000914 7C E9                           	JL	L160
   954 00000916 EB DF                           	JMP	L162
   955 00000918                                 	GLOBAL	_hrb_api
   956 00000918                                 _hrb_api:
   957 00000918 55                              	PUSH	EBP
   958 00000919 89 E5                           	MOV	EBP,ESP
   959 0000091B 57                              	PUSH	EDI
   960 0000091C 56                              	PUSH	ESI
   961 0000091D 53                              	PUSH	EBX
   962 0000091E 8B 7D 18                        	MOV	EDI,DWORD [24+EBP]
   963 00000921 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   964 00000924 8B 35 00000FE8                  	MOV	ESI,DWORD [4072]
   965 0000092A E8 [00000000]                   	CALL	_task_now
   966 0000092F 83 FB 01                        	CMP	EBX,1
   967 00000932 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
   968 00000938 74 3E                           	JE	L172
   969 0000093A 83 FB 02                        	CMP	EBX,2
   970 0000093D 74 2B                           	JE	L173
   971 0000093F 83 FB 03                        	CMP	EBX,3
   972 00000942 74 14                           	JE	L174
   973 00000944 83 FB 04                        	CMP	EBX,4
   974 00000947 74 0A                           	JE	L175
   975 00000949                                 L165:
   976 00000949 31 C0                           	XOR	EAX,EAX
   977 0000094B                                 L163:
   978 0000094B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   979 0000094E 5B                              	POP	EBX
   980 0000094F 5E                              	POP	ESI
   981 00000950 5F                              	POP	EDI
   982 00000951 5D                              	POP	EBP
   983 00000952 C3                              	RET
   984 00000953                                 L175:
   985 00000953 83 C0 30                        	ADD	EAX,48
   986 00000956 EB F3                           	JMP	L163
   987 00000958                                 L174:
   988 00000958 FF 75 20                        	PUSH	DWORD [32+EBP]
   989 0000095B 8D 04 3E                        	LEA	EAX,DWORD [ESI+EDI*1]
   990 0000095E 50                              	PUSH	EAX
   991 0000095F 52                              	PUSH	EDX
   992 00000960 E8 FFFFFF80                     	CALL	_cons_putstr1
   993 00000965                                 L171:
   994 00000965 83 C4 0C                        	ADD	ESP,12
   995 00000968 EB DF                           	JMP	L165
   996 0000096A                                 L173:
   997 0000096A 8D 04 3E                        	LEA	EAX,DWORD [ESI+EDI*1]
   998 0000096D 50                              	PUSH	EAX
   999 0000096E 52                              	PUSH	EDX
  1000 0000096F E8 FFFFFF43                     	CALL	_cons_putstr0
  1001 00000974 5F                              	POP	EDI
  1002 00000975 58                              	POP	EAX
  1003 00000976 EB D1                           	JMP	L165
  1004 00000978                                 L172:
  1005 00000978 6A 01                           	PUSH	1
  1006 0000097A 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1007 0000097E 50                              	PUSH	EAX
  1008 0000097F 52                              	PUSH	EDX
  1009 00000980 E8 FFFFF91F                     	CALL	_cons_putchar
  1010 00000985 EB DE                           	JMP	L171
  1011                                          [SECTION .data]
  1012 0000007A                                 LC12:
  1013 0000007A 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       00000084 20 47 65 6E 65 72 61 6C 20 50 
       0000008E 72 6F 74 65 63 74 65 64 20 45 
       00000098 78 63 65 70 74 69 6F 6E 2E 0A 
       000000A2 00 
  1014                                          [SECTION .text]
  1015 00000987                                 	GLOBAL	_inthandler0d
  1016 00000987                                 _inthandler0d:
  1017 00000987 55                              	PUSH	EBP
  1018 00000988 89 E5                           	MOV	EBP,ESP
  1019 0000098A 56                              	PUSH	ESI
  1020 0000098B 53                              	PUSH	EBX
  1021 0000098C 8B 35 00000FEC                  	MOV	ESI,DWORD [4076]
  1022 00000992 E8 [00000000]                   	CALL	_task_now
  1023 00000997 68 [0000007A]                   	PUSH	LC12
  1024 0000099C 89 C3                           	MOV	EBX,EAX
  1025 0000099E 56                              	PUSH	ESI
  1026 0000099F 83 C3 30                        	ADD	EBX,48
  1027 000009A2 E8 FFFFFF10                     	CALL	_cons_putstr0
  1028 000009A7 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1029 000009AA 89 D8                           	MOV	EAX,EBX
  1030 000009AC 5B                              	POP	EBX
  1031 000009AD 5E                              	POP	ESI
  1032 000009AE 5D                              	POP	EBP
  1033 000009AF C3                              	RET
